{"componentChunkName":"component---src-templates-blog-post-js","path":"/css-layout-holy-grail-and-flex/","result":{"data":{"site":{"siteMetadata":{"title":"Coyeah's Blog","siteUrl":"https://www.coyeah.top"}},"markdownRemark":{"id":"1f72d5e4-b972-5868-993f-807b05d78ad1","excerpt":"…","html":"<h2>关于圣杯布局</h2>\n<p>描述下圣杯布局，有点类似于网格布局的三列式，可以理解为中间列是杯身，两侧则为两个杯耳。不同于网格布局的是只有三列一行。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/13efff5425336c607c5852a6f27190b6/a820a/float_css_1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.848101265822784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMCBP/aAAwDAQACEAMQAAABw2DaYFF//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAESAhH/2gAIAQEAAQUCy3yij//EABYRAAMAAAAAAAAAAAAAAAAAAAMQMv/aAAgBAwEBPwEcr//EABYRAAMAAAAAAAAAAAAAAAAAAAIQMv/aAAgBAgEBPwE6X//EABgQAAMBAQAAAAAAAAAAAAAAAAABMQIh/9oACAEBAAY/Au6ZWVn/xAAZEAACAwEAAAAAAAAAAAAAAAAAARGx4fD/2gAIAQEAAT8hVsTmyW5//9oADAMBAAIAAwAAABD77//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBopT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQMf/aAAgBAgEBPxCx/8QAGRABAAIDAAAAAAAAAAAAAAAAAQARIdHw/9oACAEBAAE/EHQhvFNlouZuf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"float_css_1.jpg\"\n        title=\"float_css_1.jpg\"\n        src=\"/static/13efff5425336c607c5852a6f27190b6/828fb/float_css_1.jpg\"\n        srcset=\"/static/13efff5425336c607c5852a6f27190b6/ff44c/float_css_1.jpg 158w,\n/static/13efff5425336c607c5852a6f27190b6/a6688/float_css_1.jpg 315w,\n/static/13efff5425336c607c5852a6f27190b6/828fb/float_css_1.jpg 630w,\n/static/13efff5425336c607c5852a6f27190b6/0ede0/float_css_1.jpg 945w,\n/static/13efff5425336c607c5852a6f27190b6/a820a/float_css_1.jpg 996w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>两侧的盒子固定宽度，中间盒子自适应宽度。</p>\n<p>但是为什么不用网格布局来实现呢，主要是因为圣杯布局里，中间盒子是可以优先渲染的，代码上它是优先于两侧的盒子。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>Header内容区<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>middle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>中间弹性区<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>left<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>左边栏<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>right<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>右边栏<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>Footer内容区<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>在<code class=\"language-text\">.middle</code>、<code class=\"language-text\">.left</code>、<code class=\"language-text\">.right</code>中设置<code class=\"language-text\">float:left;</code>。你会看到是这样的模样。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/27fa83591c39c5a1e309590bc572b984/a820a/float_css_2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFBv/EABYBAQEBAAAAAAAAAAAAAAAAAAMBBP/aAAwDAQACEAMQAAABUema/Q0MugT/xAAZEAACAwEAAAAAAAAAAAAAAAAAAwEREzH/2gAIAQEAAQUChlmDTBwojh//xAAXEQADAQAAAAAAAAAAAAAAAAAAARET/9oACAEDAQE/AdXKbM//xAAYEQADAQEAAAAAAAAAAAAAAAAAAQIRA//aAAgBAgEBPwHvCh4jT//EABkQAAIDAQAAAAAAAAAAAAAAAAABEDGRQv/aAAgBAQAGPwLop6U9HP8A/8QAGBAAAwEBAAAAAAAAAAAAAAAAARAxAJH/2gAIAQEAAT8hFJ6aY3kF/9oADAMBAAIAAwAAABBPH//EABkRAAIDAQAAAAAAAAAAAAAAAAABESFhkf/aAAgBAwEBPxBR4K8MVxH/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/EAZ//8QAHRABAAEDBQAAAAAAAAAAAAAAAQAQEdFRYaGx8f/aAAgBAQABPxC8BrarMHBLTtzPC5nVnAKf/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"float_css_2.jpg\"\n        title=\"float_css_2.jpg\"\n        src=\"/static/27fa83591c39c5a1e309590bc572b984/828fb/float_css_2.jpg\"\n        srcset=\"/static/27fa83591c39c5a1e309590bc572b984/ff44c/float_css_2.jpg 158w,\n/static/27fa83591c39c5a1e309590bc572b984/a6688/float_css_2.jpg 315w,\n/static/27fa83591c39c5a1e309590bc572b984/828fb/float_css_2.jpg 630w,\n/static/27fa83591c39c5a1e309590bc572b984/0ede0/float_css_2.jpg 945w,\n/static/27fa83591c39c5a1e309590bc572b984/a820a/float_css_2.jpg 996w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>它的实现主要在三个知识点，<code class=\"language-text\">float</code>、<code class=\"language-text\">position</code>和<code class=\"language-text\">box-sizing</code>。</p>\n<p>float 的特殊情况：浮动元素的覆盖问题；当 margin 设置为负时，会与其他浮动元素重叠。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/890418797297178f0c376a4f58b18948/f7d50/float_css_3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMCBP/aAAwDAQACEAMQAAABxWDaYih//8QAFxABAQEBAAAAAAAAAAAAAAAAAQASAv/aAAgBAQABBQLhQ1av/8QAFxEAAwEAAAAAAAAAAAAAAAAAAQMQIv/aAAgBAwEBPwFZzP/EABYRAAMAAAAAAAAAAAAAAAAAAAIQMv/aAAgBAgEBPwE6X//EABgQAAIDAAAAAAAAAAAAAAAAAAABITFB/9oACAEBAAY/ApbNLZ//xAAaEAABBQEAAAAAAAAAAAAAAAAAESFxgZHh/9oACAEBAAE/IXQrJ7Fdz//aAAwDAQACAAMAAAAQf/8A/8QAGBEBAQADAAAAAAAAAAAAAAAAAQARMZH/2gAIAQMBAT8QQOuFm//EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAECAQE/ELH/xAAZEAACAwEAAAAAAAAAAAAAAAAAARHR8CH/2gAIAQEAAT8QdE6nkOZPZmWf/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"float_css_3.jpg\"\n        title=\"float_css_3.jpg\"\n        src=\"/static/890418797297178f0c376a4f58b18948/828fb/float_css_3.jpg\"\n        srcset=\"/static/890418797297178f0c376a4f58b18948/ff44c/float_css_3.jpg 158w,\n/static/890418797297178f0c376a4f58b18948/a6688/float_css_3.jpg 315w,\n/static/890418797297178f0c376a4f58b18948/828fb/float_css_3.jpg 630w,\n/static/890418797297178f0c376a4f58b18948/0ede0/float_css_3.jpg 945w,\n/static/890418797297178f0c376a4f58b18948/f7d50/float_css_3.jpg 993w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>继续就是要调节整体盒子的内边距问题了，因为两侧盒子遮住了中间盒子的内容嘛。但是又出现了一个问题，float 的规则限定了，浮动元素的 margin 不能超过包含块的 padding。因此就要利用到了相对定位 relative，这样就可以突破这样的限制。</p>\n<p>在整体盒子上设置了 padding，但是 width 的宽度是不变的。box-sizing 的设置可以很优雅的实现自适应。</p>\n<p>附上 CSS 代码。想过就会像第一张图一样。</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">html, body, h4</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n<span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">header</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> darkseagreen<span class=\"token punctuation\">;</span>\n<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">footer</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> darkslategray<span class=\"token punctuation\">;</span>\n<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.container</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n<span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 200px<span class=\"token punctuation\">;</span>\n<span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span>\n<span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.middle</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> deeppink<span class=\"token punctuation\">;</span>\n<span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.left</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> blue<span class=\"token punctuation\">;</span>\n<span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n<span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n<span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> -100%<span class=\"token punctuation\">;</span>\n<span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n<span class=\"token property\">left</span><span class=\"token punctuation\">:</span> -200px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.right</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> darkorchid<span class=\"token punctuation\">;</span>\n<span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n<span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n<span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> -200px<span class=\"token punctuation\">;</span>\n<span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n<span class=\"token property\">right</span><span class=\"token punctuation\">:</span> -200px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>flex 布局</h2>\n<p>弹性盒布局，是响应式开发经常使用的一种布局方式。顾名思义是可以随着用户窗口大小或者设备不同自适应的去改变大小宽窄。</p>\n<p>比较重要的属性：</p>\n<ul>\n<li>display: flex; // 设置为弹性布局</li>\n<li>flex-direction: row/column; // 确立主轴。即横向还是竖向</li>\n<li>justify-content: center/flex-start/flex-end/space-between/space-around; // 定义沿主轴如何排布</li>\n<li>align-items: center/flex-start/flex-end; // 定义沿侧轴如何排布</li>\n</ul>\n<p>通常我会配合上媒体查询，这样可以在布局上看起来更加舒服。</p>","frontmatter":{"title":"CSS布局：圣杯与flex","date":"June 20, 2018","description":null}},"previous":{"fields":{"slug":"/regular-expression-memo/"},"frontmatter":{"title":"正则表达式备忘录"}},"next":{"fields":{"slug":"/object-oriented-develop/"},"frontmatter":{"title":"浅析面向对象开发"}}},"pageContext":{"id":"1f72d5e4-b972-5868-993f-807b05d78ad1","previousPostId":"1fe198df-063b-583f-bbf3-3c0be105c229","nextPostId":"b5b3debd-ace7-54ee-ac5d-4f14d895b125"}},"staticQueryHashes":["2841359383","3274528899","4152100472"]}