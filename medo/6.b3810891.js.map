{"version":3,"sources":["webpack:///./src/services/index.ts","webpack:///./src/pages/Medo/index.module.less?f21a","webpack:///./src/components/Dialog/index.js","webpack:///./src/decorators/withRef.js","webpack:///./src/decorators/withSetProps.js","webpack:///./src/components/TextEdit/Editor.tsx","webpack:///./src/components/TextEdit/index.tsx","webpack:///./src/components/Copycat/index.tsx","webpack:///./src/components/Notepad/DelIcon.tsx","webpack:///./src/components/Notepad/WrappedTextEdit.tsx","webpack:///./src/components/Notepad/AddIcon.tsx","webpack:///./src/components/Notepad/Item.tsx","webpack:///./src/components/Notepad/Remarks.tsx","webpack:///./src/components/Notepad/index.tsx","webpack:///./src/pages/Medo/index.tsx"],"names":["__webpack_require__","d","__webpack_exports__","queryListData","updateListData","queryCaleData","updateCaleDate","_utils__WEBPACK_IMPORTED_MODULE_0__","storage","_ref","list","_ref2","data","module","exports","layout","empty","title","tips","tag","history","createBrowserHistory","Dialog","state","_this2","this","unsubscribe","listen","destory","_this$props","props","onOk","onCancel","transition","render","content","BodyComponent","component","titleRender","footerRender","restProps","objectWithoutProperties_default","modalProps","objectSpread_default","visible","bind","isBoolean_default","transitionName","maskTransitionName","isFunction_default","apply","footer","body","reactfrom_dll_reference_dll_reactDOM_library_default","a","createElement","modal_default","PureComponent","open","options","_options","restOptions","assign_default","merge_default","delay","setPropsMerged","autoClose","maskClosable","onSubmit","destroy","redner","noop_default","setTimeout","container","document","_pickBy2","pickBy_default","methods","WrappedComponent","_PureComponent","WithRef","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","arguments","inherits_default","createClass_default","key","value","getInstance","ref","withRef","merge","length","undefined","WithSetProps","_getPrototypeOf2","_this","_len","args","Array","_key","call","concat","setProps","assertThisInitialized_default","setState","forceUpdateProps","forceUpdate","mergeStateToProps","withSetProps","appendChild","ReactDOM","locale_provider_default","locale","zhCN","extends_default","instance","onDestroy","unmountComponentAtNode","removeChild","forEach_default","method","TextArea","Editor","prefixCls","type","onConfirm","onChange","Wrapped","input_default","inputRef","useRef","useEffect","current","focus","onInputBlur","useCallback","onInputChange","e","target","className","onBlur","onPressEnter","TextEdit","isEdit","onEditChange","prevValue","onValueChange","setContentRef","el","contentRef","contentRender","_assertThisInitialize","_assertThisInitialize2","bold","children","placeholder","_assertThisInitialize3","TextEdit_Editor","classnames","defineProperty_default","icon_default","onClick","React","Children","map","child","cloneElement","nextProps","prevState","newState","Copycat","handleClick","oInput","style","position","left","top","select","execCommand","DelIcon","onDelete","popconfirm_default","okText","cancelText","WrappedTextEdit","onCopyClick","message_default","success","src_components_TextEdit","Notepad_DelIcon","components_Copycat","textStyle","marginRight","AddIcon","text","Item","_props$item","item","name","remarks","onTextChange","onItemDelete","onRemarksChange","hasRemarks","index","popover_default","placement","theme","Notepad_WrappedTextEdit","Remarks","propsOnClick","propsList","_useState","useState","_useState2","slicedToArray_default","inputValue","setInputValue","_useState3","_useState4","setList","newList","toConsumableArray_default","splice","Fragment","size","onKeyDown","keyCode","addonAfter","marginTop","divider_default","marginLeft","indexMap","cardBodyStyle","padding","Notepad","isFold","setIsFold","handleFold","addItem","delItem","onItemTextChange","childrenIndex","remarksProps","Notepad_Remarks","card_default","hoverable","bodyStyle","val","ind","Notepad_Item","transform","Add","Notepad_AddIcon","tags","Medo","targetIndex","set","getData","_callee","regenerator_default","wrap","_context","prev","next","sent","t0","finish","stop","setData","_callee2","_context2","formatData","forEach","push","id","handleNotepadItem","flag","_ref3","createTime","Date","generateUUID","addNewItem","emptyRender","styles","src_components_Notepad","Component"],"mappings":"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","file":"6.b3810891.js","sourcesContent":["import {storage, generateUUID} from '@/utils';\r\n\r\nexport const queryListData = () => {\r\n  return storage('medo-list') || [];\r\n}\r\n\r\nexport const updateListData = ({list}) => {\r\n  return storage('medo-list', list);\r\n}\r\n\r\nexport const queryCaleData = () => {\r\n  return storage('medo-cale') || {};\r\n}\r\n\r\nexport const updateCaleDate = ({data}) => {\r\n  return storage('medo-cale', data);\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"src-pages-Medo-index-module__layout--2PD-U\",\"empty\":\"src-pages-Medo-index-module__empty--2TRAC\",\"title\":\"src-pages-Medo-index-module__title--2iz80\",\"tips\":\"src-pages-Medo-index-module__tips--2a2CN\",\"tag\":\"src-pages-Medo-index-module__tag--iikec\"};","import React, { PureComponent } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { LocaleProvider, Modal } from 'antd';\r\nimport _ from 'lodash';\r\nimport createBrowserHistory from 'history/createBrowserHistory';\r\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\r\nimport withRef from '../../decorators/withRef';\r\nimport withSetProps from '../../decorators/withSetProps';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport default class Dialog extends PureComponent {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    this.unsubscribe = history.listen(() => this.destory());\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.unsubscribe) this.unsubscribe();\r\n  }\r\n\r\n  render() {\r\n    const { onOk, onCancel, transition, render, content, component: BodyComponent, title, titleRender, footerRender, props, ...restProps} = this.props;\r\n    let modalProps = {\r\n      // wrapClassName: styles.center,\r\n      visible: true,\r\n      onOk: onOk.bind(this),\r\n      onCancel: onCancel.bind(this),\r\n      title,\r\n      ...props,\r\n      ...restProps\r\n    };\r\n    if (_.isBoolean(transition) && !transition) {\r\n      modalProps = { ...modalProps, transitionName: '', maskTransitionName: '' };\r\n    }\r\n    if (_.isFunction(titleRender)) {\r\n      modalProps = { ...modalProps, title: titleRender.apply(this) || title };\r\n    }\r\n    if (_.isFunction(footerRender)) {\r\n      modalProps = { ...modalProps, footer: footerRender.apply(this) };\r\n    }\r\n    let body = content;\r\n    if (!body && BodyComponent) {\r\n      body = <BodyComponent {...restProps} />;\r\n    }\r\n    if (!body && render) {\r\n      body = render.bind(this)(this);\r\n    }\r\n    return <Modal {...modalProps}>{body}</Modal>;\r\n  }\r\n}\r\n\r\nDialog.open = (options) => {\r\n  const { ...restOptions } = options;\r\n  options = _.merge({\r\n    title: '弹窗',\r\n    delay: 0,\r\n    setPropsMerged: true,\r\n    autoClose: true,\r\n    maskClosable: false,\r\n    transition: false,\r\n    onOk() {\r\n      this.props.onSubmit.bind(this)();\r\n      this.destroy();\r\n    },\r\n    onCancel() {\r\n      this.destroy();\r\n    },\r\n    redner: _.noop\r\n  }, restOptions);\r\n  setTimeout(() => {\r\n    const container = document.createElement('div');\r\n    const { setPropsMerged } = options;\r\n    const { render, ...methods } = _.pickBy(options, _.isFunction);\r\n    const saveRef = instance => {\r\n      if (instance) {\r\n        _.merge(instance, {\r\n          destroy() {\r\n            const { onDestroy } = instance;\r\n            _.isFunction(onDestroy) && onDestroy();\r\n            ReactDOM.unmountComponentAtNode(container);\r\n            document.body.removeChild(container);\r\n          }\r\n        });\r\n        _.forEach(methods, (method, key) => {\r\n          instance[key] = method.bind(instance);\r\n        });\r\n        const { state } = options;\r\n        state && instance.setState(state);\r\n        instance.props.forceUpdateProps();\r\n      }\r\n    };\r\n\r\n    let WrappedComponent = Dialog;\r\n    WrappedComponent = withRef(WrappedComponent);\r\n    WrappedComponent = withSetProps(setPropsMerged)(WrappedComponent);\r\n\r\n    document.body.appendChild(container);\r\n    ReactDOM.render((\r\n      <LocaleProvider locale={zhCN}>\r\n        <WrappedComponent {...options} getInstance={saveRef} />\r\n      </LocaleProvider>\r\n    ), container);\r\n  }, options.delay);\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport _ from 'lodash';\r\n\r\nexport default WrappedComponent => class WithRef extends PureComponent {\r\n  render() {\r\n    const props = { ...this.props };\r\n    const { getInstance } = props;\r\n    if (_.isFunction(getInstance)) {\r\n      props.ref = getInstance;\r\n    }\r\n    return <WrappedComponent {...props} />;\r\n  }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport _ from 'lodash';\r\n\r\nexport default (merge = true) => WrappedComponent => class WithSetProps extends PureComponent {\r\n  state = {};\r\n\r\n  setProps = props => {\r\n    const { state } = this;\r\n    // merge 是在两个对象遇到相同属性时，如果属性值为纯对象或集合时，则把两个属性值和合并而并不覆盖。\r\n    this.setState(merge ? _.merge({}, state, props) : {...state, ...props});\r\n  };\r\n\r\n  forceUpdateProps = () => {\r\n    this.forceUpdate();\r\n  };\r\n\r\n  render() {\r\n    const { setProps, forceUpdateProps, props, state } = this;\r\n    const methods = { setProps, forceUpdateProps };\r\n    const mergeStateToProps = merge ? _.merge({}, props, state, methods) : { ...props, ...state, ...methods};\r\n    return <WrappedComponent {...mergeStateToProps} />\r\n  }\r\n}\r\n","import React, {\r\n  useState, useRef, useEffect, useCallback,\r\n} from 'react';\r\nimport {Input} from 'antd';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst Editor: React.FC = (props: object): React.ReactElement => {\r\n  const {prefixCls, type, value, onConfirm, onChange, ...restProps} = props;\r\n  const Wrapped = type === 'textarea' ? TextArea : Input;\r\n  const inputRef = useRef(null);\r\n  useEffect(() => {\r\n    if (inputRef && inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, []);\r\n  const onInputBlur = useCallback(() => {\r\n    onConfirm && onConfirm();\r\n  }, [onConfirm]);\r\n  const onInputChange = useCallback(e => {\r\n    if (e && e.target && typeof e.target.value === 'string') onChange && onChange(e.target.value);\r\n  }, [onChange]);\r\n  return (\r\n    <div className={`${prefixCls}-textarea`} {...restProps}>\r\n      <Wrapped\r\n        ref={inputRef}\r\n        value={value}\r\n        onBlur={onInputBlur}\r\n        onChange={onInputChange}\r\n        onPressEnter={onInputBlur}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Editor;\r\n\r\n// class Editor extends React.PureComponent {\r\n//\r\n//   componentDidMount() {\r\n//     if (this.inputRef) {\r\n//       this.inputRef.focus();\r\n//     }\r\n//   }\r\n//\r\n//   setInputRef = el => {\r\n//     this.inputRef = el;\r\n//   }\r\n//\r\n//   onInputBlur = () => {\r\n//     const {onConfirm} = this.props;\r\n//     onConfirm && onConfirm();\r\n//   }\r\n//\r\n//   onInputChange = e => {\r\n//     if (e && e.target && e.target.value) {\r\n//       const {onChange} = this.props;\r\n//       onChange && onChange(e.target.value);\r\n//     }\r\n//   }\r\n//\r\n//   render() {\r\n//     const {type, value} = this.props;\r\n//     const Wrapped = type === 'textarea' ? TextArea : Input;\r\n//\r\n//     return (\r\n//       <div className={styles['text-edit-textarea']}>\r\n//         <Wrapped\r\n//           ref={this.setInputRef}\r\n//           onBlur={this.onInputBlur}\r\n//           value={value}\r\n//           onChange={this.onInputChange}\r\n//         />\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n","import React, {Fragment} from 'react';\r\nimport {Icon} from 'antd';\r\nimport classnames from 'classnames';\r\nimport Editor from './Editor';\r\nimport './index.less';\r\n\r\nconst prefixCls = 'medo-text-edit';\r\n\r\nclass TextEdit extends React.PureComponent {\r\n  state = {\r\n    isEdit: false,\r\n    current: ''\r\n  }\r\n\r\n  static getDerivedStateFromProps (nextProps, prevState) {\r\n    const { prevValue } = prevState;\r\n    const { value } = nextProps;\r\n    const newState = {\r\n      prevValue: value,\r\n    };\r\n    if (prevValue !== value) {\r\n      newState.current = value;\r\n    }\r\n    return newState;\r\n  }\r\n\r\n  onEditChange = value => {\r\n    if (value && typeof value === 'string') {\r\n      this.setState({\r\n        isEdit: !this.state.isEdit,\r\n        current: value,\r\n      });\r\n    } else if (!!value) {\r\n      this.setState({ isEdit: !this.state.isEdit });\r\n      return;\r\n    } else {\r\n      this.setState({ isEdit: !this.state.isEdit });\r\n      value = this.state.current;\r\n    }\r\n    const {prevValue} = this.state;\r\n    if (value !== prevValue) {\r\n      const {onConfirm} = this.props;\r\n      onConfirm && onConfirm(value);\r\n    }\r\n  }\r\n\r\n  onValueChange = value => {\r\n    const {onChange} = this.props;\r\n    this.setState({current: value}, () => {\r\n      onChange && onChange(value);\r\n    });\r\n  }\r\n\r\n  setContentRef = el => {\r\n    this.contentRef = el;\r\n  }\r\n\r\n  contentRender = () => {\r\n    const {\r\n      props: {type, bold, children, placeholder},\r\n      state: {isEdit, current},\r\n      onEditChange, onValueChange, setContentRef\r\n    } = this;\r\n    if (isEdit) {\r\n      return (\r\n        <Editor\r\n          prefixCls={prefixCls}\r\n          type={type || 'input'}\r\n          value={current}\r\n          onChange={onValueChange}\r\n          onConfirm={onEditChange}\r\n        />\r\n      )\r\n    } else {\r\n      return (\r\n        <div ref={setContentRef} className={`${prefixCls}-content`}>\r\n          {\r\n            current ? (\r\n              <span className={classnames({[`${prefixCls}-bold`]: bold})}>{current}</span>\r\n            ) : (\r\n              <span className={classnames(`${prefixCls}-placeholder`)}>{placeholder || `请编辑文本内容`}</span>\r\n            )\r\n          }\r\n          <Icon onClick={onEditChange} className={`${prefixCls}-options`} type=\"edit\" />\r\n          {React.Children.map(children, (child, key) =>\r\n            !!child && React.cloneElement(child, {\r\n              className: `${prefixCls}-options`\r\n            })\r\n          )}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={`${prefixCls}-layout`}>\r\n        {this.contentRender()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TextEdit;\r\n","import React, {useCallback} from 'react';\r\nimport {Icon} from 'antd';\r\n\r\nconst Copycat: React.FC = (props: object): React.ReactElement => {\r\n  const {value, onClick, ...restProps} = props;\r\n  const handleClick = useCallback(() => {\r\n    let oInput = document.createElement('input');\r\n    oInput.value = value;\r\n    oInput.style.position = 'fixed';\r\n    oInput.style.left = '-1000px';\r\n    oInput.style.top = '-1000px';\r\n    document.body.appendChild(oInput);\r\n    oInput.select();\r\n    document.execCommand('Copy');\r\n    document.body.removeChild(oInput);\r\n    onClick && onClick();\r\n  }, [value, onClick]);\r\n  return (\r\n    <Icon type=\"copy\" onClick={handleClick} {...restProps} />\r\n  )\r\n}\r\n\r\nexport default Copycat;\r\n","import React from 'react';\r\nimport {Icon, Popconfirm} from 'antd';\r\n\r\nconst DelIcon: React.FC = (props: object): React.ReactElement => {\r\n  const {onDelete, ...restProps} = props;\r\n  return (\r\n    <Popconfirm\r\n      title=\"确认删除该任务项？\"\r\n      onConfirm={onDelete}\r\n      okText=\"确认\"\r\n      cancelText=\"取消\"\r\n    >\r\n      <Icon type=\"delete\" {...restProps} />\r\n    </Popconfirm>\r\n  )\r\n}\r\n\r\nexport default DelIcon;\r\n","import React, {useCallback} from 'react';\r\nimport {Icon, Popconfirm, message} from 'antd';\r\nimport TextEdit from '@/components/TextEdit';\r\nimport Copycat from '@/components/Copycat';\r\nimport DelIcon from './DelIcon';\r\n\r\nconst WrappedTextEdit: React.FC = (props: object): React.ReactElement => {\r\n  const {onDelete, prefixCls, value, ...restProps} = props;\r\n  const onCopyClick = useCallback(() => {\r\n    message.success('复制成功！');\r\n  }, [value]);\r\n  return (\r\n    <div className={`${prefixCls}-input`}>\r\n      <TextEdit value={value} {...restProps}>\r\n        {onDelete && (\r\n          <DelIcon onDelete={onDelete} />\r\n        )}\r\n        <Copycat value={value} onClick={onCopyClick} />\r\n      </TextEdit>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WrappedTextEdit;\r\n","import React from 'react';\r\nimport {Icon} from 'antd';\r\n\r\nconst textStyle = {marginRight: 8};\r\n\r\nconst AddIcon: React.FC = (props: object): React.ReactElement => {\r\n  const {prefixCls, text, ...restProps} = props;\r\n  return (\r\n    <div className={`${prefixCls}-add`} {...restProps}>\r\n      {text && (<span style={textStyle}>{text}</span>)}\r\n      <Icon type=\"plus-circle\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddIcon;\r\n","import React, {useCallback} from 'react';\r\nimport {Row, Col, Popover, Icon} from 'antd';\r\nimport classnames from 'classnames';\r\nimport TextEdit from './WrappedTextEdit';\r\n\r\nconst Item: React.FC = (props: object): React.ReactElement => {\r\n  const {item: {name, remarks}, onTextChange, onItemDelete, onRemarksChange, prefixCls, ...restProps} = props;\r\n  let content = (<span>点击添加备注</span>),\r\n    hasRemarks = false;\r\n  if (remarks && remarks.length > 0) {\r\n    hasRemarks = true;\r\n    content = remarks.map((value, index) => (\r\n      <div key={index}>{value}</div>\r\n    ))\r\n  }\r\n  return (\r\n    <div className={`${prefixCls}-sub`}>\r\n      <div className={`${prefixCls}-prefix`}>\r\n        <Popover content={content} placement=\"left\">\r\n          <Icon\r\n            className={classnames({[`${prefixCls}-prefix-work`]: hasRemarks})}\r\n            type=\"appstore\"\r\n            theme=\"filled\"\r\n            onClick={onRemarksChange}\r\n          />\r\n        </Popover>\r\n      </div>\r\n      <TextEdit\r\n        prefixCls={prefixCls}\r\n        value={name}\r\n        onConfirm={onTextChange}\r\n        onDelete={onItemDelete}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Item;\r\n","import React, {\r\n  useState, useRef, useCallback\r\n} from 'react';\r\nimport {Input, Icon, Divider} from 'antd';\r\n\r\nconst Remarks: React.FC = (props: object): React.ReactElement => {\r\n  const {onClick: propsOnClick, list: propsList} = props;\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [list, setList] = useState(propsList || []);\r\n  const keyDownHandler = e => {\r\n    if (e.keyCode === 13) onClick();\r\n  }\r\n  const onClick = useCallback(() => {\r\n    let newList = list;\r\n    newList = [...list, inputValue];\r\n    setInputValue('');\r\n    setList(newList);\r\n    propsOnClick(newList);\r\n  }, [propsOnClick, list, inputValue]);\r\n  const onDelete = useCallback(index => {\r\n    let newList = list;\r\n    newList.splice(index, 1);\r\n    setList([...newList]);\r\n    propsOnClick(newList);\r\n  }, [propsOnClick, list]);\r\n  return (\r\n    <>\r\n      {list.length < 5 && (\r\n        <Input\r\n        size=\"small\"\r\n        value={inputValue}\r\n        onChange={e => setInputValue(e.target.value)}\r\n        onKeyDown={keyDownHandler}\r\n        placeholder='请输入任务备注，最多保存五项。'\r\n        addonAfter={\r\n          <Icon type=\"enter\" onClick={onClick} />\r\n        }\r\n        />\r\n      )}\r\n      {list.map((value, index) => (\r\n        <div key={index} style={{marginTop: 10}}>\r\n          {index + 1}\r\n          <Divider type=\"vertical\" />\r\n          {value}\r\n          <Icon type=\"delete\" onClick={() => onDelete(index)} style={{marginLeft: 10}} />\r\n        </div>\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Remarks;\r\n","import React, {\r\n  useCallback, useState,\r\n} from 'react';\r\nimport {Card, Icon} from 'antd';\r\nimport classnames from 'classnames';\r\nimport Dialog from '@/components/Dialog';\r\nimport TextEdit from './WrappedTextEdit';\r\nimport AddIcon from './AddIcon';\r\nimport Item from './Item';\r\nimport Remarks from './Remarks';\r\nimport DelIcon from './DelIcon';\r\nimport './index.less';\r\n\r\nconst prefixCls = 'medo-item-box',\r\n  indexMap = ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十'],\r\n  cardBodyStyle = {padding: 15};\r\n\r\nconst Notepad: React.FC = (props: object): React.ReactElement => {\r\n  const {\r\n    index, name, list,\r\n    onChange,\r\n  } = props;\r\n  const [isFold, setIsFold] = useState(list.length >= 7);\r\n  const handleFold = useCallback(() => {\r\n    setIsFold(!isFold);\r\n  }, [isFold]);\r\n  const addItem = useCallback(() => {\r\n    setIsFold(false);\r\n    onChange && onChange(0, {index});\r\n  }, [onChange, index]);\r\n  const delItem = useCallback(() => {\r\n    onChange && onChange(2, {index});\r\n  }, [onChange, index]);\r\n  const onTextChange = useCallback(value => {\r\n    onChange && onChange(1, {index, target: value})\r\n  }, [onChange, index]);\r\n  const onItemTextChange = useCallback((value, childrenIndex) => {\r\n    onChange && onChange(1, {index, childrenIndex, target: value})\r\n  }, [onChange, index]);\r\n  const onItemDelete = useCallback((childrenIndex) => {\r\n    onChange && onChange(2, {index, childrenIndex});\r\n  }, [onChange, index]);\r\n  const onRemarksChange = useCallback((childrenIndex) => {\r\n    if (!onChange) return;\r\n    const remarksProps = {\r\n      list: list[childrenIndex].remarks,\r\n      onClick: newList => {\r\n        onChange(3, {index, childrenIndex, target: newList})\r\n      }\r\n    }\r\n    Dialog.open({\r\n      titleRender: () => (<div><Icon type=\"appstore\" /> 任务备注</div>),\r\n      transition: true,\r\n      content: (\r\n        <Remarks {...remarksProps} />\r\n      ),\r\n      maskClosable: true,\r\n      footerRender: () => null\r\n    })\r\n  }, [onChange, index]);\r\n  return (\r\n    <Card hoverable bodyStyle={cardBodyStyle}>\r\n      <div className={`${prefixCls}-layout`}>\r\n        <div className={`${prefixCls}-title-index ${prefixCls}-bold`}>\r\n          {indexMap[index]}、\r\n        </div>\r\n        <TextEdit\r\n          bold\r\n          prefixCls={prefixCls}\r\n          value={name}\r\n          onConfirm={onTextChange}\r\n        />\r\n      </div>\r\n      { !isFold && list.map((val, ind) => (\r\n          <Item\r\n            key={ind}\r\n            prefixCls={prefixCls}\r\n            item={val}\r\n            onTextChange={value => onItemTextChange(value, ind)}\r\n            onRemarksChange={() => onRemarksChange(ind)}\r\n            onItemDelete={() => onItemDelete(ind)}\r\n          />\r\n        ))\r\n      }\r\n      <div className={`${prefixCls}-options`}>\r\n        <Icon type=\"up-circle\" onClick={handleFold} className={`${prefixCls}-options-icon`} style={{transform: isFold && 'rotate(180deg)'}} />\r\n        <Icon type=\"plus-circle\" onClick={addItem} className={`${prefixCls}-options-icon`} />\r\n        <DelIcon onDelete={delItem} className={`${prefixCls}-options-icon`} />\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nNotepad.Add = (props: object): React.ReactElement => (\r\n  <AddIcon prefixCls={prefixCls} {...props} />\r\n);\r\n\r\nexport default Notepad;\r\n","import React, {Fragment, Component} from 'react';\r\nimport {Card, Icon, Tag} from 'antd';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport Notepad from '@/components/Notepad';\r\nimport {generateUUID} from '@/utils/';\r\nimport {queryListData, updateListData} from '@/services';\r\nimport styles from './index.module.less';\r\n\r\nconst tags = ['分层级', '备忘录', '任务指标', '细化任务']\r\nconst {Add} = Notepad;\r\n\r\nclass Medo extends Component {\r\n  state = {\r\n    targetIndex: -1,\r\n    data: [],\r\n    set: [],\r\n    map: {},\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData = async () => {\r\n    let data = [];\r\n    try {\r\n      data = await queryListData();\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      this.setState({ data });\r\n    }\r\n  }\r\n\r\n  setData = async list => {\r\n    await updateListData({ list });\r\n  }\r\n\r\n  formatData = (data) => {\r\n    if (!data) data = this.state.data;\r\n    let set = [], map = {};\r\n    data.forEach(value => {\r\n      set.push(value.id);\r\n      map[value.id] = value;\r\n    });\r\n    this.setState({set, map});\r\n  }\r\n  /**\r\n   * flag: 0 - add; 1 - change; 2 - delete; 3 - change remarks;\r\n   * map: {'index': 'father-location', 'childrenIndex': 'children-location'}\r\n   */\r\n  handleNotepadItem = (flag, {index, childrenIndex, target}) => {\r\n    const {data} = this.state;\r\n    console.log(flag, index, childrenIndex, target);\r\n    switch (flag) {\r\n      case 0:\r\n        if (typeof index !== 'undefined') {\r\n          data[index].children.push({\r\n            name: '',\r\n            createTime: new Date(),\r\n            remarks: [],\r\n          })\r\n        } else {\r\n          data.push({\r\n            id: generateUUID(),\r\n            name: '',\r\n            createTime: new Date(),\r\n            children: [],\r\n          })\r\n        }\r\n        break;\r\n      case 1:\r\n        if (typeof childrenIndex !== 'undefined') {\r\n          data[index].children[childrenIndex].name = target;\r\n        } else {\r\n          data[index].name = target;\r\n        }\r\n        break;\r\n      case 2:\r\n        if (typeof childrenIndex !== 'undefined') {\r\n          data[index].children.splice(childrenIndex, 1);\r\n        } else {\r\n          data.splice(index, 1);\r\n        }\r\n        break;\r\n      case 3:\r\n        data[index].children[childrenIndex].remarks = target;\r\n        break;\r\n    }\r\n    this.setState({data}, () => {\r\n      this.setData(data);\r\n    })\r\n  }\r\n\r\n  addNewItem = () => {\r\n    this.handleNotepadItem(0, {});\r\n  }\r\n\r\n  emptyRender = () => {\r\n    return (\r\n      <Card className={styles.empty}>\r\n        <div className={styles.title}>思维导图式待办事项</div>\r\n        {tags.map((value, index) => (\r\n          <div key={index} className={styles.tag}>{value}</div>\r\n        ))}\r\n        <div className={styles.tips}>立刻开始记事之旅 <Icon type=\"caret-down\" /></div>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {data} = this.state;\r\n    return (\r\n      <div className={styles.layout}>\r\n        {data.map((value, index) => (\r\n          <Notepad\r\n            key={value.id}\r\n            index={index}\r\n            name={value.name}\r\n            list={value.children}\r\n            onChange={this.handleNotepadItem}\r\n          />\r\n        ))}\r\n        {data.length === 0 && this.emptyRender()}\r\n        <Add onClick={this.addNewItem} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Medo;\r\n"],"sourceRoot":""}