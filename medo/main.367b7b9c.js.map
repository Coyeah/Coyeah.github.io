{"version":3,"sources":["webpack:///delegated ./node_modules/react/index.js from dll-reference _dll_reactDOM_library","webpack:///delegated ./node_modules/react-dom/index.js from dll-reference _dll_reactDOM_library","webpack:///delegated ./node_modules/object-assign/index.js from dll-reference _dll_reactDOM_library","webpack:///delegated ./node_modules/prop-types/lib/ReactPropTypesSecret.js from dll-reference _dll_reactDOM_library","webpack:///./src/components/Edit/index.module.less?a021","webpack:///./src/utils/storage.ts","webpack:///./src/components/Header/index.tsx","webpack:///./src/common/config.ts","webpack:///./src/components/Footer/index.tsx","webpack:///./src/components/Box/index.tsx","webpack:///./src/components/Edit/WrappedForm.tsx","webpack:///./src/components/Edit/index.tsx","webpack:///./src/page/Home/index.tsx","webpack:///./src/index.tsx","webpack:///external \"_dll_reactDOM_library\"","webpack:///delegated ./node_modules/webpack/buildin/global.js from dll-reference _dll_reactDOM_library","webpack:///./src/components/Footer/index.module.less?bb1c","webpack:///./src/page/Home/index.module.less?0225","webpack:///./src/components/Header/index.module.less?67fd","webpack:///./src/components/Box/index.module.less?5527"],"names":["module","exports","__webpack_require__","editLayout","main","sub","warning","footer","setStorage","list","Array","localStorage","setItem","stringify_default","Header","reactfrom_dll_reference_dll_reactDOM_library_default","a","createElement","className","styles","title","subTitle","config","name","path","icon","Footer","id","social","map","value","index","key","underline","href","target","icon_default","type","indexMap","Box","_this$props","this","props","card_default","hoverable","onClick","concat","item","ind","divider_default","PureComponent","defaultProps","WrappedForm","form_default","create","_this","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","call","onInputChange","data","state","form","setFieldsValue","taskName","children","subtasks","getFieldValue","setState","addItem","push","createTime","Date","delItem","splice","onSubmit","e","preventDefault","promise_default","resolve","reject","validateFields","err","values","filter","init","_this2","_this$props2","getFieldDecorator","items","formItems","timeline_default","Item","validateTrigger","rules","required","message","input_default","addonAfter","onChange","autoComplete","reactfrom_dll_reference_dll_reactDOM_library","addonBefore","button_default","block","Component","Edit","then","onClose","visible","onDelete","drawer_default","width","Edit_WrappedForm","wrappedComponentRef","el","style","marginRight","float","Home","targetIndex","showEdit","_this$state","length","_this$state2","boxRender","_ref","components_Box","textAlign","tag_default","medoList","medoListString","getItem","JSON","parse","getStorage","_this$state3","layout","minHeight","document","body","offsetHeight","components_Header","box","marginTop","components_Edit","cloneDeep_default","components_Footer","render","page_Home","getElementById","_dll_reactDOM_library","box-list","box-list-item"],"mappings":"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","file":"main.367b7b9c.js","sourcesContent":["module.exports = (__webpack_require__(41))(\"./node_modules/react/index.js\");","module.exports = (__webpack_require__(41))(\"./node_modules/react-dom/index.js\");","module.exports = (__webpack_require__(41))(\"./node_modules/object-assign/index.js\");","module.exports = (__webpack_require__(41))(\"./node_modules/prop-types/lib/ReactPropTypesSecret.js\");","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editLayout\":\"src-components-Edit-index-module__editLayout--3LFKM\",\"main\":\"src-components-Edit-index-module__main--2jRxk\",\"sub\":\"src-components-Edit-index-module__sub--3GL3s\",\"warning\":\"src-components-Edit-index-module__warning--kso1y\",\"footer\":\"src-components-Edit-index-module__footer--3Hh3d\"};","export const setStorage = (list: object[]): void => {\r\n  if (!(list instanceof Array)) return null;\r\n  return localStorage.setItem('medo-list', JSON.stringify(list));\r\n}\r\n\r\nexport const getStorage = (): object[] => {\r\n  const medoListString = localStorage.getItem('medo-list');\r\n  let medoList: object[];\r\n  try {\r\n    medoList = JSON.parse(medoListString);\r\n  } catch(err) {\r\n    medoList = medoListString;\r\n  }\r\n  return medoList || [];\r\n}\r\n","import React from \"react\";\r\nimport styles from './index.module.less';\r\n\r\nconst Header: React.FC = (): React.ReactElement => (\r\n  <div className={styles.title}>\r\n    Medo\r\n    <span className={styles.subTitle}>A Memo For Todo</span>\r\n  </div>\r\n);\r\n\r\nexport default Header;\r\n","export default [\r\n  {\r\n    name: 'github',\r\n    path: 'https://github.com/Coyeah',\r\n    icon: 'github'\r\n  }, {\r\n    name: 'zhihu',\r\n    path: 'https://www.zhihu.com/people/coyeah-21/activities',\r\n    icon: 'zhihu'\r\n  }, {\r\n    name: 'email',\r\n    path: 'mailto:Coyeah_chen@outlook.com',\r\n    icon: 'message'\r\n  }, {\r\n    name: 'blog',\r\n    path: 'https://www.coyeah.top',\r\n    icon: 'home'\r\n  }\r\n];\r\n","import React from 'react';\r\nimport {Icon} from 'antd';\r\nimport styles from './index.module.less';\r\nimport config from '../../common/config';\r\n\r\nconst Footer: React.FC = (): React.ReactElement => (\r\n  <div id={styles.footer}>\r\n    <div className={styles.social}>\r\n      {\r\n        config.map((value, index) => (\r\n          <div key={index} className={styles.underline}>\r\n            <a href={value.path} target='_blank'>\r\n              <Icon type={value.icon} />\r\n            </a>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n    <p>Copyright 2019 &copy; Created by Coyeah</p>\r\n  </div>\r\n)\r\n\r\nexport default Footer;\r\n","import React, {PureComponent} from 'react';\r\nimport {Card, Divider, Icon} from 'antd';\r\nimport styles from './index.module.less';\r\n\r\nconst indexMap = ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十'];\r\n\r\nclass Box extends PureComponent<Props, object> {\r\n  static defaultProps = {\r\n    index: 0,\r\n    name: '测试用测试用测试用测试用测试用测试用测试用测试用测试用',\r\n    list: ['测试用测试用', '测试用测试用测试用测试用', '测试用测试用', '测试用测试用测试用测试用'],\r\n  }\r\n\r\n  render() {\r\n    const {index, name, list} = this.props;\r\n    return (\r\n      <Card hoverable onClick={this.props.onClick}>\r\n        <p>{`${indexMap[index]}、${name}`}</p>\r\n        <div className={styles['box-list']}>\r\n          {\r\n            list.map((item, ind) => (\r\n              <div className={styles['box-list-item']} key={ind}>{ind + 1}<Divider type=\"vertical\" />{item.name}</div>\r\n            ))\r\n          }\r\n        </div>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Box;\r\n","import React, {Fragment, Component} from 'react';\r\nimport {\r\n  Form, Input, Timeline, Button, Icon\r\n} from 'antd';\r\nimport styles from './index.module.less';\r\n\r\n@Form.create()\r\nclass WrappedForm extends Component<Props, object> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: {\r\n        name: '',\r\n        createTime: new Date(),\r\n        children: [],\r\n      },\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {init, form: {setFieldsValue}} = this.props;\r\n    if (!!init) {\r\n      this.setState({data: init}, () => {\r\n        const subtasks = init.children.map(value => value.name);\r\n        setFieldsValue({\r\n          taskName: init.name,\r\n          subtasks,\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  onInputChange = (value, index) => {\r\n    if (typeof index !== 'number') return;\r\n    let {data} = this.state;\r\n    if (index === -1) {\r\n      data.name = value;\r\n      this.props.form.setFieldsValue({\r\n        taskName: value,\r\n      });\r\n    } else {\r\n      data.children[index].name = value;\r\n      let subtasks = this.props.form.getFieldValue('subtasks');\r\n      subtasks[index] = value;\r\n      this.props.form.setFieldsValue({subtasks});\r\n    }\r\n    this.setState({data});\r\n  }\r\n\r\n  addItem = () => {\r\n    let {data} = this.state;\r\n    data.children.push({\r\n      name: '',\r\n      createTime: new Date(),\r\n    });\r\n    this.setState({data});\r\n  }\r\n\r\n  delItem = index => {\r\n    let {data} = this.state;\r\n    data.children.splice(index, 1, null);\r\n    this.setState({data});\r\n  }\r\n\r\n  onSubmit = e => {\r\n    console.log(12);\r\n    e.preventDefault();\r\n    return new Promise((resolve, reject) => {\r\n      this.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          // console.log('Received values of form: ', values);\r\n          const {data} = this.state;\r\n          data.children = data.children.filter(value => !!value);\r\n          resolve(data);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      init,\r\n      form: {getFieldDecorator}\r\n    } = this.props;\r\n\r\n    if (!this.state.data) {\r\n      return null;\r\n    }\r\n    const {data: {children: items}} = this.state\r\n\r\n    const formItems = items && items.map((item, index) => {\r\n      if (!item) return null;\r\n      return (\r\n        <Timeline.Item key={index}>\r\n          <Form.Item >\r\n            {\r\n              getFieldDecorator(`subtasks[${index}]`, {\r\n                validateTrigger: ['onChange', 'onBlur'],\r\n                rules: [{ required: true, message: (<span className={styles.warning}>该选项不可为空</span>) }],\r\n              })(\r\n                <Input addonAfter={<Icon type=\"delete\" onClick={() => this.delItem(index)} />} onChange={e => this.onInputChange(e.target.value, index)} autoComplete=\"off\" />\r\n              )\r\n            }\r\n          </Form.Item>\r\n        </Timeline.Item>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={styles.main}>\r\n          <Form.Item >\r\n            {\r\n              getFieldDecorator('taskName', {\r\n                rules: [{ required: true, message: (<span className={styles.warning}>该选项不可为空</span>) }],\r\n              })(\r\n                <Input addonBefore={'目标任务'} onChange={e => this.onInputChange(e.target.value, -1)} autoComplete=\"off\" />\r\n              )\r\n            }\r\n          </Form.Item>\r\n          <div className={styles.sub}>\r\n            <Timeline>\r\n              {formItems}\r\n              <Timeline.Item>\r\n                <Button block onClick={this.addItem} type=\"dashed\">添加子任务</Button>\r\n              </Timeline.Item>\r\n            </Timeline>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WrappedForm;\r\n","import React, {Fragment, PureComponent} from 'react';\r\nimport {\r\n  Drawer, Button,\r\n} from 'antd';\r\nimport WrappedForm from './WrappedForm';\r\nimport styles from './index.module.less';\r\n\r\nclass Edit extends PureComponent<Props, object> {\r\n  onSubmit = e => {\r\n    if (!this.form) return;\r\n    this.form.onSubmit(e).then((data) => {\r\n      this.props.onSubmit(data);\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      onClose, visible, onDelete\r\n    } = this.props;\r\n\r\n    return (\r\n      <Drawer\r\n        title=\"任务编辑\"\r\n        width={620}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        className={styles.editLayout}\r\n      >\r\n        {\r\n          visible && (<WrappedForm wrappedComponentRef={el => this.form = el}  init={this.props.init} />)\r\n        }\r\n        <div className={styles.footer}>\r\n          <Button onClick={this.onSubmit} type=\"primary\" style={{ marginRight: 8 }}>\r\n            确认\r\n          </Button>\r\n          <Button onClick={onClose}>\r\n            取消\r\n          </Button>\r\n          <Button onClick={onDelete} type='danger' style={{ float: 'right' }}>\r\n            删除\r\n          </Button>\r\n        </div>\r\n      </Drawer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Edit;\r\n","import React, {Fragment, Component} from 'react';\r\nimport {\r\n  Button, Card, Icon, Tag,\r\n} from 'antd';\r\nimport _ from 'lodash';\r\nimport styles from './index.module.less';\r\nimport {getStorage, setStorage} from '../../utils/storage';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport Box from '../../components/Box';\r\nimport Edit from '../../components/Edit';\r\n\r\nclass Home extends Component<Props, object> {\r\n  state = {\r\n    targetIndex: -1,\r\n    visible: false,\r\n    data: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    const data = getStorage() || [];\r\n    this.setState({data});\r\n  }\r\n\r\n  showEdit = (index) => {\r\n    this.setState({ visible: true, targetIndex: index, });\r\n  }\r\n\r\n  onClose = () => {\r\n    this.setState({ visible: false, targetIndex: -1 });\r\n  }\r\n\r\n  onSubmit = (item) => {\r\n    let {data, targetIndex} = this.state;\r\n    if (targetIndex < 0) return;\r\n    if (data.length === targetIndex) {\r\n      data.push(item);\r\n    } else {\r\n      data.splice(targetIndex, 1, item);\r\n    }\r\n    setStorage(data);\r\n    this.setState({data}, () => {\r\n      this.onClose();\r\n    });\r\n  }\r\n\r\n  onDelete = () => {\r\n    const {data, targetIndex} = this.state;\r\n    data.splice(targetIndex, 1);\r\n    setStorage(data);\r\n    this.setState({data}, () => {\r\n      this.onClose();\r\n    });\r\n  }\r\n\r\n  boxRender = () => {\r\n    const {data} = this.state;\r\n    if (!data || data.length === 0) {\r\n      return (\r\n        <Card>\r\n          <div style={{textAlign: 'center'}}>\r\n            <h2>思维导图式待办事项</h2>\r\n            <Tag>分层级</Tag>\r\n            <Tag>备忘录</Tag>\r\n            <Tag>细化任务</Tag>\r\n          </div>\r\n        </Card>\r\n      )\r\n    }\r\n    return (\r\n      <Fragment>\r\n        {\r\n          data.map(({name, children}, index) => (\r\n            <Box name={name} index={index} list={children} key={`${name}-${index}`} onClick={() => this.showEdit(index)} />\r\n          ))\r\n        }\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {data, targetIndex} = this.state;\r\n    return (\r\n      <div id={styles.layout} style={{minHeight: document.body.offsetHeight - 3}}>\r\n        <Header />\r\n        <div className={styles.box}>\r\n          {this.boxRender()}\r\n          <Button block type='primary' style={{marginTop: 20}} onClick={() => this.showEdit(this.state.data.length)}>添加任务</Button>\r\n          <Edit\r\n            visible={this.state.visible}\r\n            onClose={this.onClose}\r\n            onDelete={this.onDelete}\r\n            init={_.cloneDeep(data[targetIndex])}\r\n            onSubmit={this.onSubmit}\r\n          />\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","if (process.env.NODE_ENV === 'development' && ENV_MOCK) {\r\n  // require('../mock/example.js');\r\n}\r\n\r\nimport React from 'react';\r\nimport {render} from 'react-dom';\r\nimport App from './page/Home';\r\n\r\nrender(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = _dll_reactDOM_library;","module.exports = (__webpack_require__(41))(\"./node_modules/webpack/buildin/global.js\");","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"src-components-Footer-index-module__footer--2Oked\",\"social\":\"src-components-Footer-index-module__social--1HmzY\",\"underline\":\"src-components-Footer-index-module__underline--3dyYL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"src-page-Home-index-module__layout--kq_d5\",\"box\":\"src-page-Home-index-module__box--3iBGB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"src-components-Header-index-module__title--2oZYd\",\"subTitle\":\"src-components-Header-index-module__subTitle--1UodQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box-list\":\"src-components-Box-index-module__box-list--2y4NP\",\"box-list-item\":\"src-components-Box-index-module__box-list-item--1Ljcw\"};"],"sourceRoot":""}