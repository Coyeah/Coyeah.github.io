{"version":3,"sources":["webpack:///./src/services/index.ts","webpack:///./src/pages/Medo/index.module.less?f21a","webpack:///./src/components/Dialog/index.js","webpack:///./src/decorators/withRef.js","webpack:///./src/decorators/withSetProps.js","webpack:///./src/components/TextEdit/Editor.tsx","webpack:///./src/components/TextEdit/index.tsx","webpack:///./src/components/Copycat/index.tsx","webpack:///./src/components/Notepad/DelIcon.tsx","webpack:///./src/components/Notepad/WrappedTextEdit.tsx","webpack:///./src/components/Notepad/AddIcon.tsx","webpack:///./src/components/Notepad/Item.tsx","webpack:///./src/components/Notepad/Remarks.tsx","webpack:///./src/components/Notepad/index.tsx","webpack:///./src/pages/Medo/index.tsx"],"names":["__webpack_require__","d","__webpack_exports__","queryListData","updateListData","queryCaleData","updateCaleDate","_utils__WEBPACK_IMPORTED_MODULE_0__","storage","_ref","list","_ref2","data","module","exports","layout","empty","title","tips","tag","history","createBrowserHistory","Dialog","state","_this2","this","unsubscribe","listen","destory","_this$props","props","onOk","onCancel","transition","render","content","BodyComponent","component","titleRender","footerRender","restProps","objectWithoutProperties_default","modalProps","objectSpread_default","visible","bind","isBoolean_default","transitionName","maskTransitionName","isFunction_default","apply","footer","body","reactfrom_dll_reference_dll_reactDOM_library_default","a","createElement","modal_default","PureComponent","open","options","_options","restOptions","assign_default","merge_default","delay","setPropsMerged","autoClose","maskClosable","onSubmit","destroy","redner","noop_default","setTimeout","container","document","_pickBy2","pickBy_default","methods","WrappedComponent","_PureComponent","WithRef","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","arguments","inherits_default","createClass_default","key","value","getInstance","ref","withRef","merge","length","undefined","WithSetProps","_getPrototypeOf2","_this","_len","args","Array","_key","call","concat","setProps","assertThisInitialized_default","setState","forceUpdateProps","forceUpdate","mergeStateToProps","withSetProps","appendChild","ReactDOM","locale_provider_default","locale","zhCN","extends_default","instance","onDestroy","unmountComponentAtNode","removeChild","forEach_default","method","TextArea","Editor","prefixCls","type","onConfirm","onChange","Wrapped","input_default","inputRef","useRef","useEffect","current","focus","onInputBlur","useCallback","onInputChange","e","target","className","onBlur","onPressEnter","TextEdit","isEdit","onEditChange","prevValue","onValueChange","setContentRef","el","contentRef","contentRender","_assertThisInitialize","_assertThisInitialize2","bold","children","placeholder","_assertThisInitialize3","TextEdit_Editor","classnames","defineProperty_default","icon_default","onClick","React","Children","map","child","cloneElement","nextProps","prevState","newState","Copycat","handleClick","oInput","style","position","left","top","select","execCommand","DelIcon","onDelete","popconfirm_default","okText","cancelText","WrappedTextEdit","onCopyClick","message_default","success","src_components_TextEdit","Notepad_DelIcon","components_Copycat","textStyle","marginRight","AddIcon","text","Item","_props$item","item","name","remarks","onTextChange","onItemDelete","onRemarksChange","hasRemarks","index","popover_default","placement","theme","Notepad_WrappedTextEdit","Remarks","propsOnClick","propsList","_useState","useState","_useState2","slicedToArray_default","inputValue","setInputValue","_useState3","_useState4","setList","newList","toConsumableArray_default","splice","Fragment","size","onKeyDown","keyCode","addonAfter","marginTop","divider_default","marginLeft","indexMap","cardBodyStyle","padding","Notepad","isFold","setIsFold","handleFold","addItem","delItem","onItemTextChange","childrenIndex","remarksProps","Notepad_Remarks","card_default","hoverable","bodyStyle","val","ind","Notepad_Item","transform","Add","Notepad_AddIcon","tags","Medo","targetIndex","set","getData","_callee","regenerator_default","wrap","_context","prev","next","sent","t0","finish","stop","setData","_callee2","_context2","formatData","forEach","push","id","handleNotepadItem","flag","_ref3","createTime","Date","generateUUID","addNewItem","emptyRender","styles","src_components_Notepad","Component"],"mappings":"0FAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAI,IAAA,IAAAC,EAAAP,EAAA,IAEaG,EAAgB,WAC3B,OAAOK,YAAQ,cAAgB,IAGpBJ,EAAiB,SAAAK,GAAY,IAAVC,EAAUD,EAAVC,KAC9B,OAAOF,YAAQ,YAAaE,IAGjBL,EAAgB,WAC3B,OAAOG,YAAQ,cAAgB,IAGpBF,EAAiB,SAAAK,GAAY,IAAVC,EAAUD,EAAVC,KAC9B,OAAOJ,YAAQ,YAAaI,qECd9BC,EAAAC,QAAA,CAAkBC,OAAA,6CAAAC,MAAA,4CAAAC,MAAA,4CAAAC,KAAA,2CAAAC,IAAA,qoBCQZC,GAAUC,MAEKC,sLACnBC,MAAQ,sEAEY,IAAAC,EAAAC,KAClBA,KAAKC,YAAcN,GAAQO,OAAO,kBAAMH,EAAKI,2DAIzCH,KAAKC,aAAaD,KAAKC,+CAGpB,IAAAG,EACiIJ,KAAKK,MAArIC,EADDF,EACCE,KAAMC,EADPH,EACOG,SAAUC,EADjBJ,EACiBI,WAAYC,EAD7BL,EAC6BK,OAAQC,EADrCN,EACqCM,QAAoBC,EADzDP,EAC8CQ,UAA0BpB,EADxEY,EACwEZ,MAAOqB,EAD/ET,EAC+ES,YAAaC,EAD5FV,EAC4FU,aAAcT,EAD1GD,EAC0GC,MAAUU,EADpHC,IAAAZ,EAAA,8GAEHa,EAAaC,IAAA,CAEfC,SAAS,EACTb,KAAMA,EAAKc,KAAKpB,MAChBO,SAAUA,EAASa,KAAKpB,MACxBR,SACGa,EACAU,GAEDM,IAAYb,KAAgBA,IAC9BS,EAAaC,IAAA,GAAKD,EAAR,CAAoBK,eAAgB,GAAIC,mBAAoB,MAEpEC,IAAaX,KACfI,EAAaC,IAAA,GAAKD,EAAR,CAAoBzB,MAAOqB,EAAYY,MAAMzB,OAASR,KAE9DgC,IAAaV,KACfG,EAAaC,IAAA,GAAKD,EAAR,CAAoBS,OAAQZ,EAAaW,MAAMzB,SAE3D,IAAI2B,EAAOjB,EAOX,OANKiB,GAAQhB,IACXgB,EAAOC,EAAAC,EAAAC,cAACnB,EAAkBI,KAEvBY,GAAQlB,IACXkB,EAAOlB,EAAOW,KAAKpB,KAAZS,CAAkBT,OAEpB4B,EAAAC,EAAAC,cAAAC,EAAAF,EAAWZ,EAAaU,UAtCCK,iBA0CpCnC,GAAOoC,KAAO,SAACC,GAAY,IAAAC,EACED,EAAhBE,EADcC,IAAA,GAAAF,GAEzBD,EAAUI,IAAQ,CAChB9C,MAAO,KACP+C,MAAO,EACPC,gBAAgB,EAChBC,WAAW,EACXC,cAAc,EACdlC,YAAY,EACZF,KAPgB,WAQdN,KAAKK,MAAMsC,SAASvB,KAAKpB,KAAzBA,GACAA,KAAK4C,WAEPrC,SAXgB,WAYdP,KAAK4C,WAEPC,OAAQC,EAAAjB,GACPO,GACHW,WAAW,WACT,IAAMC,EAAYC,SAASnB,cAAc,OACjCU,EAAmBN,EAAnBM,eAFOU,EAGgBC,IAASjB,EAATV,EAAAK,GAAZuB,GAHJF,EAGPzC,OAHOO,IAAAkC,EAAA,aAuBXG,EAAmBxD,GACvBwD,EC5FW,SAAAA,GAAgB,gBAAAC,GAAA,SAAAC,IAAA,OAAAC,IAAAxD,KAAAuD,GAAAE,IAAAzD,KAAA0D,IAAAH,GAAA9B,MAAAzB,KAAA2D,YAAA,OAAAC,IAAAL,EAAAD,GAAAO,IAAAN,EAAA,EAAAO,IAAA,SAAAC,MAAA,WAE3B,IAAM1D,EAAQa,IAAA,GAAKlB,KAAKK,OAChB2D,EAAgB3D,EAAhB2D,YAIR,OAHIxC,IAAawC,KACf3D,EAAM4D,IAAMD,GAEPpC,EAAAC,EAAAC,cAACuB,EAAqBhD,OAPFkD,EAAA,CAA0BvB,iBD4FlCkC,CAAQb,GAC3BA,EE7FW,eAACc,IAADR,UAAAS,OAAA,QAAAC,IAAAV,UAAA,KAAAA,UAAA,UAAkB,SAAAN,GAAgB,gBAAAC,GAAA,SAAAgB,IAAA,IAAAC,EAAAC,EAAAhB,IAAAxD,KAAAsE,GAAA,QAAAG,EAAAd,UAAAS,OAAAM,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAjB,UAAAiB,GAAA,OAAAJ,EAAAf,IAAAzD,MAAAuE,EAAAb,IAAAY,IAAAO,KAAApD,MAAA8C,EAAA,CAAAvE,MAAA8E,OAAAJ,MAC/C5E,MAAQ,GADuC0E,EAG/CO,SAAW,SAAA1E,GAAS,IACVP,EADUkF,KAAAR,GACV1E,MAER0E,EAAKS,SAASd,EAAQ7B,IAAQ,GAAIxC,EAAOO,GAAtBa,IAAA,GAAmCpB,EAAUO,KANnBmE,EAS/CU,iBAAmB,WACjBV,EAAKW,eAVwCX,EAAA,OAAAZ,IAAAU,EAAAhB,GAAAO,IAAAS,EAAA,EAAAR,IAAA,SAAAC,MAAA,WAatC,IACCgB,EAA6C/E,KAA7C+E,SAAUG,EAAmClF,KAAnCkF,iBAAkB7E,EAAiBL,KAAjBK,MAAOP,EAAUE,KAAVF,MACrCsD,EAAU,CAAE2B,WAAUG,oBACtBE,EAAoBjB,EAAQ7B,IAAQ,GAAIjC,EAAOP,EAAOsD,GAA7BlC,IAAA,GAA6Cb,EAAUP,EAAUsD,GAChG,OAAOxB,EAAAC,EAAAC,cAACuB,EAAqB+B,OAjBgBd,EAAA,CAA+BtC,kBF6FzDqD,CAAa7C,EAAb6C,CAA6BhC,GAEhDJ,SAAStB,KAAK2D,YAAYtC,GAC1BuC,IAAS9E,OACPmB,EAAAC,EAAAC,cAAA0D,EAAA3D,EAAA,CAAgB4D,OAAQC,MACtB9D,EAAAC,EAAAC,cAACuB,EAADsC,IAAA,GAAsBzD,EAAtB,CAA+B8B,YA1BnB,SAAA4B,GACd,GAAIA,EAAU,CACZtD,IAAQsD,EAAU,CAChBhD,QADgB,WACN,IACAiD,EAAcD,EAAdC,UACRrE,IAAaqE,IAAcA,IAC3BN,IAASO,uBAAuB9C,GAChCC,SAAStB,KAAKoE,YAAY/C,MAG9BgD,IAAU5C,EAAS,SAAC6C,EAAQnC,GAC1B8B,EAAS9B,GAAOmC,EAAO7E,KAAKwE,KAVlB,IAYJ9F,EAAUoC,EAAVpC,MACRA,GAAS8F,EAASX,SAASnF,GAC3B8F,EAASvF,MAAM6E,yBAahBlC,IACFd,EAAQK,wHGnGL2D,iBA8BOC,GA5BU,SAAC9F,GAAsC,IACvD+F,EAA6D/F,EAA7D+F,UAAWC,EAAkDhG,EAAlDgG,KAAMtC,EAA4C1D,EAA5C0D,MAAOuC,EAAqCjG,EAArCiG,UAAWC,EAA0BlG,EAA1BkG,SAAaxF,EADOC,IACMX,EADN,qDAExDmG,EAAmB,aAATH,EAAsBH,GAAtBO,GAAA5E,EACV6E,EAAWC,iBAAO,MACxBC,oBAAU,WACJF,GAAYA,EAASG,SACvBH,EAASG,QAAQC,SAElB,IACH,IAAMC,EAAcC,sBAAY,WAC9BV,GAAaA,KACZ,CAACA,IACEW,EAAgBD,sBAAY,SAAAE,GAC5BA,GAAKA,EAAEC,QAAoC,iBAAnBD,EAAEC,OAAOpD,OAAoBwC,GAAYA,EAASW,EAAEC,OAAOpD,QACtF,CAACwC,IACJ,OACE3E,EAAAC,EAAAC,cAAA,MAAA6D,IAAA,CAAKyB,UAAS,GAAAtC,OAAKsB,EAAL,cAA+BrF,GAC3Ca,EAAAC,EAAAC,cAAC0E,EAAD,CACEvC,IAAKyC,EACL3C,MAAOA,EACPsD,OAAQN,EACRR,SAAUU,EACVK,aAAcP,MCvBhBX,WAAY,kBAiGHmB,sLA9FbzH,MAAQ,CACN0H,QAAQ,EACRX,QAAS,MAeXY,aAAe,SAAA1D,GACb,GAAIA,GAA0B,iBAAVA,EAClBS,EAAKS,SAAS,CACZuC,QAAShD,EAAK1E,MAAM0H,OACpBX,QAAS9C,QAEN,IAAMA,EAEX,YADAS,EAAKS,SAAS,CAAEuC,QAAShD,EAAK1E,MAAM0H,SAGpChD,EAAKS,SAAS,CAAEuC,QAAShD,EAAK1E,MAAM0H,SACpCzD,EAAQS,EAAK1E,MAAM+G,QAGrB,GAAI9C,IADgBS,EAAK1E,MAAlB4H,UACkB,KAChBpB,EAAa9B,EAAKnE,MAAlBiG,UACPA,GAAaA,EAAUvC,OAI3B4D,cAAgB,SAAA5D,GAAS,IAChBwC,EAAY/B,EAAKnE,MAAjBkG,SACP/B,EAAKS,SAAS,CAAC4B,QAAS9C,GAAQ,WAC9BwC,GAAYA,EAASxC,QAIzB6D,cAAgB,SAAAC,GACdrD,EAAKsD,WAAaD,KAGpBE,cAAgB,WAAM,IAAAC,EAAAhD,KAAAR,GAAAyD,EAAAD,EAElB3H,MAAQgG,EAFU4B,EAEV5B,KAAM6B,EAFID,EAEJC,KAAMC,EAFFF,EAEEE,SAAUC,EAFZH,EAEYG,YAFZC,EAAAL,EAGlBlI,MAAQ0H,EAHUa,EAGVb,OAAQX,EAHEwB,EAGFxB,QAChBY,EAJkBO,EAIlBP,aAAcE,EAJIK,EAIJL,cAAeC,EAJXI,EAIWJ,cAE/B,OAAIJ,EAEA5F,EAAAC,EAAAC,cAACwG,GAAD,CACElC,UAAWA,GACXC,KAAMA,GAAQ,QACdtC,MAAO8C,EACPN,SAAUoB,EACVrB,UAAWmB,IAKb7F,EAAAC,EAAAC,cAAA,OAAKmC,IAAK2D,EAAeR,UAAS,GAAAtC,OAAKsB,GAAL,aAE9BS,EACEjF,EAAAC,EAAAC,cAAA,QAAMsF,UAAWmB,KAAWC,KAAA,MAAA1D,OAAKsB,GAAN,SAAyB8B,KAASrB,GAE7DjF,EAAAC,EAAAC,cAAA,QAAMsF,UAAWmB,KAAU,GAAAzD,OAAIsB,GAAJ,kBAA+BgC,GAAW,WAGzExG,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CAAM6G,QAASjB,EAAcL,UAAS,GAAAtC,OAAKsB,GAAL,YAA0BC,KAAK,SACpEsC,IAAMC,SAASC,IAAIV,EAAU,SAACW,EAAOhF,GAAR,QAC1BgF,GAASH,IAAMI,aAAaD,EAAO,CACnC1B,UAAS,GAAAtC,OAAKsB,GAAL,0EASnB,OACExE,EAAAC,EAAAC,cAAA,OAAKsF,UAAS,GAAAtC,OAAKsB,GAAL,YACXpG,KAAK+H,oEAnFqBiB,EAAWC,GAAW,IAC7CvB,EAAcuB,EAAdvB,UACA3D,EAAUiF,EAAVjF,MACFmF,EAAW,CACfxB,UAAW3D,GAKb,OAHI2D,IAAc3D,IAChBmF,EAASrC,QAAU9C,GAEdmF,SAfYP,IAAM3G,eCcdmH,GAnBW,SAAC9I,GAAsC,IACxD0D,EAAgC1D,EAAhC0D,MAAO2E,EAAyBrI,EAAzBqI,QAAY3H,EADqCC,IACxBX,EADwB,qBAEzD+I,EAAcpC,sBAAY,WAC9B,IAAIqC,EAASpG,SAASnB,cAAc,SACpCuH,EAAOtF,MAAQA,EACfsF,EAAOC,MAAMC,SAAW,QACxBF,EAAOC,MAAME,KAAO,UACpBH,EAAOC,MAAMG,IAAM,UACnBxG,SAAStB,KAAK2D,YAAY+D,GAC1BA,EAAOK,SACPzG,SAAS0G,YAAY,QACrB1G,SAAStB,KAAKoE,YAAYsD,GAC1BX,GAAWA,KACV,CAAC3E,EAAO2E,IACX,OACE9G,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA8D,IAAA,CAAMU,KAAK,OAAOqC,QAASU,GAAiBrI,mCCDjC6I,GAdW,SAACvJ,GAAsC,IACxDwJ,EAA0BxJ,EAA1BwJ,SAAa9I,EAD2CC,IAC9BX,EAD8B,cAE/D,OACEuB,EAAAC,EAAAC,cAAAgI,GAAAjI,EAAA,CACErC,MAAM,YACN8G,UAAWuD,EACXE,OAAO,KACPC,WAAW,MAEXpI,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA8D,IAAA,CAAMU,KAAK,UAAatF,MCWfkJ,GAjBmB,SAAC5J,GAAsC,IAChEwJ,EAA4CxJ,EAA5CwJ,SAAUzD,EAAkC/F,EAAlC+F,UAAWrC,EAAuB1D,EAAvB0D,MAAUhD,EADiCC,IACpBX,EADoB,kCAEjE6J,EAAclD,sBAAY,WAC9BmD,GAAAtI,EAAQuI,QAAQ,UACf,CAACrG,IACJ,OACEnC,EAAAC,EAAAC,cAAA,OAAKsF,UAAS,GAAAtC,OAAKsB,EAAL,WACZxE,EAAAC,EAAAC,cAACuI,GAAD1E,IAAA,CAAU5B,MAAOA,GAAWhD,GACzB8I,GACCjI,EAAAC,EAAAC,cAACwI,GAAD,CAAST,SAAUA,IAErBjI,EAAAC,EAAAC,cAACyI,GAAD,CAASxG,MAAOA,EAAO2E,QAASwB,OCdlCM,GAAY,CAACC,YAAa,GAYjBC,GAVW,SAACrK,GAAsC,IACxD+F,EAAiC/F,EAAjC+F,UAAWuE,EAAsBtK,EAAtBsK,KAAS5J,EADoCC,IACvBX,EADuB,sBAE/D,OACEuB,EAAAC,EAAAC,cAAA,MAAA6D,IAAA,CAAKyB,UAAS,GAAAtC,OAAKsB,EAAL,SAA0BrF,GACrC4J,GAAS/I,EAAAC,EAAAC,cAAA,QAAMwH,MAAOkB,IAAYG,GACnC/I,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CAAMwE,KAAK,+CC2BFuE,GAhCQ,SAACvK,GAAsC,IAAAwK,EAC0CxK,EAA/FyK,KAAOC,EAD8CF,EAC9CE,KAAMC,EADwCH,EACxCG,QAAUC,EAAwE5K,EAAxE4K,aAAcC,EAA0D7K,EAA1D6K,aAAcC,EAA4C9K,EAA5C8K,gBAAiB/E,EAA2B/F,EAA3B+F,UACvE1F,GAFwDM,IAC0CX,EAD1C,sEAE7CuB,EAAAC,EAAAC,cAAA,uBACbsJ,GAAa,EAOf,OANIJ,GAAWA,EAAQ5G,OAAS,IAC9BgH,GAAa,EACb1K,EAAUsK,EAAQnC,IAAI,SAAC9E,EAAOsH,GAAR,OACpBzJ,EAAAC,EAAAC,cAAA,OAAKgC,IAAKuH,GAAQtH,MAIpBnC,EAAAC,EAAAC,cAAA,OAAKsF,UAAS,GAAAtC,OAAKsB,EAAL,SACZxE,EAAAC,EAAAC,cAAA,OAAKsF,UAAS,GAAAtC,OAAKsB,EAAL,YACZxE,EAAAC,EAAAC,cAAAwJ,GAAAzJ,EAAA,CAASnB,QAASA,EAAS6K,UAAU,QACnC3J,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CACEuF,UAAWmB,KAAWC,KAAA,MAAA1D,OAAKsB,EAAN,gBAAgCgF,IACrD/E,KAAK,WACLmF,MAAM,SACN9C,QAASyC,MAIfvJ,EAAAC,EAAAC,cAAC2J,GAAD,CACErF,UAAWA,EACXrC,MAAOgH,EACPzE,UAAW2E,EACXpB,SAAUqB,yDCoBHQ,GA9CW,SAACrL,GAAsC,IAC/CsL,EAAiCtL,EAA1CqI,QAA6BkD,EAAavL,EAAnBpB,KADiC4M,EAE3BC,mBAAS,IAFkBC,EAAAC,IAAAH,EAAA,GAExDI,EAFwDF,EAAA,GAE5CG,EAF4CH,EAAA,GAAAI,EAGvCL,mBAASF,GAAa,IAHiBQ,EAAAJ,IAAAG,EAAA,GAGxDlN,EAHwDmN,EAAA,GAGlDC,EAHkDD,EAAA,GAOzD1D,EAAU1B,sBAAY,WAC1B,IAAIsF,EACJA,EAAO,GAAAxH,OAAAyH,KAAOtN,GAAP,CAAagN,IACpBC,EAAc,IACdG,EAAQC,GACRX,EAAaW,IACZ,CAACX,EAAc1M,EAAMgN,IAClBpC,EAAW7C,sBAAY,SAAAqE,GAC3B,IAAIiB,EAAUrN,EACdqN,EAAQE,OAAOnB,EAAO,GACtBgB,EAAQE,KAAID,IACZX,EAAaW,IACZ,CAACX,EAAc1M,IAClB,OACE2C,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4K,SAAA,KACGxN,EAAKmF,OAAS,GACbxC,EAAAC,EAAAC,cAAA2E,GAAA5E,EAAA,CACA6K,KAAK,QACL3I,MAAOkI,EACP1F,SAAU,SAAAW,GAAC,OAAIgF,EAAchF,EAAEC,OAAOpD,QACtC4I,UAvBiB,SAAAzF,GACH,KAAdA,EAAE0F,SAAgBlE,KAuBlBN,YAAY,kBACZyE,WACEjL,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CAAMwE,KAAK,QAAQqC,QAASA,MAI/BzJ,EAAK4J,IAAI,SAAC9E,EAAOsH,GAAR,OACRzJ,EAAAC,EAAAC,cAAA,OAAKgC,IAAKuH,EAAO/B,MAAO,CAACwD,UAAW,KACjCzB,EAAQ,EACTzJ,EAAAC,EAAAC,cAAAiL,GAAAlL,EAAA,CAASwE,KAAK,aACbtC,EACDnC,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CAAMwE,KAAK,SAASqC,QAAS,kBAAMmB,EAASwB,IAAQ/B,MAAO,CAAC0D,WAAY,WC9BhFC,WAAW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MACzDC,GAAgB,CAACC,QAAS,IAEtBC,GAAoB,SAAC/M,GAAsC,IAE7DgL,EAEEhL,EAFFgL,MAAON,EAEL1K,EAFK0K,KAAM9L,EAEXoB,EAFWpB,KACbsH,EACElG,EADFkG,SAH6DsF,EAKnCC,mBAAS7M,EAAKmF,QAAU,GALW2H,EAAAC,IAAAH,EAAA,GAKxDwB,EALwDtB,EAAA,GAKhDuB,EALgDvB,EAAA,GAMzDwB,EAAavG,sBAAY,WAC7BsG,GAAWD,IACV,CAACA,IACEG,EAAUxG,sBAAY,WAC1BsG,GAAU,GACV/G,GAAYA,EAAS,EAAG,CAAC8E,WACxB,CAAC9E,EAAU8E,IACRoC,EAAUzG,sBAAY,WAC1BT,GAAYA,EAAS,EAAG,CAAC8E,WACxB,CAAC9E,EAAU8E,IACRJ,EAAejE,sBAAY,SAAAjD,GAC/BwC,GAAYA,EAAS,EAAG,CAAC8E,QAAOlE,OAAQpD,KACvC,CAACwC,EAAU8E,IACRqC,EAAmB1G,sBAAY,SAACjD,EAAO4J,GAC3CpH,GAAYA,EAAS,EAAG,CAAC8E,QAAOsC,gBAAexG,OAAQpD,KACtD,CAACwC,EAAU8E,IACRH,EAAelE,sBAAY,SAAC2G,GAChCpH,GAAYA,EAAS,EAAG,CAAC8E,QAAOsC,mBAC/B,CAACpH,EAAU8E,IACRF,EAAkBnE,sBAAY,SAAC2G,GACnC,GAAKpH,EAAL,CACA,IAAMqH,EAAe,CACnB3O,KAAMA,EAAK0O,GAAe3C,QAC1BtC,QAAS,SAAA4D,GACP/F,EAAS,EAAG,CAAC8E,QAAOsC,gBAAexG,OAAQmF,MAG/CzM,GAAOoC,KAAK,CACVpB,YAAa,kBAAOe,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CAAMwE,KAAK,aAAhB,UACpB7F,YAAY,EACZE,QACEkB,EAAAC,EAAAC,cAAC+L,GAAYD,GAEflL,cAAc,EACd5B,aAAc,kBAAM,UAErB,CAACyF,EAAU8E,IACd,OACEzJ,EAAAC,EAAAC,cAAAgM,EAAAjM,EAAA,CAAMkM,WAAS,EAACC,UAAWd,IACzBtL,EAAAC,EAAAC,cAAA,OAAKsF,UAAS,GAAAtC,OAjDF,gBAiDE,YACZlD,EAAAC,EAAAC,cAAA,OAAKsF,UAAS,GAAAtC,OAlDJ,gBAkDI,iBAAAA,OAlDJ,gBAkDI,UACXmI,GAAS5B,GADZ,KAGAzJ,EAAAC,EAAAC,cAAC2J,GAAD,CACEvD,MAAI,EACJ9B,UAvDQ,gBAwDRrC,MAAOgH,EACPzE,UAAW2E,MAGZoC,GAAUpO,EAAK4J,IAAI,SAACoF,EAAKC,GAAN,OAClBtM,EAAAC,EAAAC,cAACqM,GAAD,CACErK,IAAKoK,EACL9H,UA/DM,gBAgEN0E,KAAMmD,EACNhD,aAAc,SAAAlH,GAAK,OAAI2J,EAAiB3J,EAAOmK,IAC/C/C,gBAAiB,kBAAMA,EAAgB+C,IACvChD,aAAc,kBAAMA,EAAagD,QAIvCtM,EAAAC,EAAAC,cAAA,OAAKsF,UAAS,GAAAtC,OAvEF,gBAuEE,aACZlD,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CAAMwE,KAAK,YAAYqC,QAAS6E,EAAYnG,UAAS,GAAAtC,OAxE3C,gBAwE2C,iBAA+BwE,MAAO,CAAC8E,UAAWf,GAAU,oBACjHzL,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CAAMwE,KAAK,cAAcqC,QAAS8E,EAASpG,UAAS,GAAAtC,OAzE1C,gBAyE0C,mBACpDlD,EAAAC,EAAAC,cAACwI,GAAD,CAAST,SAAU4D,EAASrG,UAAS,GAAAtC,OA1E3B,gBA0E2B,sBAM7CsI,GAAQiB,IAAM,SAAChO,GAAD,OACZuB,EAAAC,EAAAC,cAACwM,GAAD3I,IAAA,CAASS,UAjFO,iBAiFmB/F,KAGtB+M,kDCxFTmB,GAAO,CAAC,MAAO,MAAO,OAAQ,QAC7BF,GAAOjB,GAAPiB,IAEDG,sLACJ1O,MAAQ,CACN2O,aAAc,EACdtP,KAAM,GACNuP,IAAK,GACL7F,IAAK,MAOP8F,qBAAU,SAAAC,IAAA,IAAAzP,EAAA,OAAA0P,EAAAhN,EAAAiN,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACJ9P,EAAO,GADH4P,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGOvQ,eAHP,OAGNS,EAHM4P,EAAAG,KAAAH,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAI,GAAAJ,EAAA,wBAAAA,EAAAC,KAAA,GAONxK,EAAKS,SAAS,CAAE9F,SAPV4P,EAAAK,OAAA,6BAAAL,EAAAM,SAAAT,EAAA,yBAWVU,sCAAU,SAAAC,EAAMtQ,GAAN,OAAA4P,EAAAhN,EAAAiN,KAAA,SAAAU,GAAA,cAAAA,EAAAR,KAAAQ,EAAAP,MAAA,cAAAO,EAAAP,KAAA,EACFtQ,aAAe,CAAEM,SADf,wBAAAuQ,EAAAH,SAAAE,8DAIVE,WAAa,SAACtQ,GACPA,IAAMA,EAAOqF,EAAK1E,MAAMX,MAC7B,IAAIuP,EAAM,GAAI7F,EAAM,GACpB1J,EAAKuQ,QAAQ,SAAA3L,GACX2K,EAAIiB,KAAK5L,EAAM6L,IACf/G,EAAI9E,EAAM6L,IAAM7L,IAElBS,EAAKS,SAAS,CAACyJ,MAAK7F,WAMtBgH,kBAAoB,SAACC,EAADC,GAA0C,IAAlC1E,EAAkC0E,EAAlC1E,MAAOsC,EAA2BoC,EAA3BpC,cAAexG,EAAY4I,EAAZ5I,OACzChI,EAAQqF,EAAK1E,MAAbX,KAEP,OAAQ2Q,GACN,KAAK,OACkB,IAAVzE,EACTlM,EAAKkM,GAAOlD,SAASwH,KAAK,CACxB5E,KAAM,GACNiF,WAAY,IAAIC,KAChBjF,QAAS,KAGX7L,EAAKwQ,KAAK,CACRC,GAAIM,eACJnF,KAAM,GACNiF,WAAY,IAAIC,KAChB9H,SAAU,KAGd,MACF,KAAK,OAC0B,IAAlBwF,EACTxO,EAAKkM,GAAOlD,SAASwF,GAAe5C,KAAO5D,EAE3ChI,EAAKkM,GAAON,KAAO5D,EAErB,MACF,KAAK,OAC0B,IAAlBwG,EACTxO,EAAKkM,GAAOlD,SAASqE,OAAOmB,EAAe,GAE3CxO,EAAKqN,OAAOnB,EAAO,GAErB,MACF,KAAK,EACHlM,EAAKkM,GAAOlD,SAASwF,GAAe3C,QAAU7D,EAGlD3C,EAAKS,SAAS,CAAC9F,QAAO,WACpBqF,EAAK8K,QAAQnQ,QAIjBgR,WAAa,WACX3L,EAAKqL,kBAAkB,EAAG,OAG5BO,YAAc,WACZ,OACExO,EAAAC,EAAAC,cAAAgM,EAAAjM,EAAA,CAAMuF,UAAWiJ,KAAO9Q,OACtBqC,EAAAC,EAAAC,cAAA,OAAKsF,UAAWiJ,KAAO7Q,OAAvB,aACC+O,GAAK1F,IAAI,SAAC9E,EAAOsH,GAAR,OACRzJ,EAAAC,EAAAC,cAAA,OAAKgC,IAAKuH,EAAOjE,UAAWiJ,KAAO3Q,KAAMqE,KAE3CnC,EAAAC,EAAAC,cAAA,OAAKsF,UAAWiJ,KAAO5Q,MAAvB,YAAsCmC,EAAAC,EAAAC,cAAA2G,EAAA5G,EAAA,CAAMwE,KAAK,qFArFrDrG,KAAK2O,2CA0FE,IAAA5O,EAAAC,KACAb,EAAQa,KAAKF,MAAbX,KACP,OACEyC,EAAAC,EAAAC,cAAA,OAAKsF,UAAWiJ,KAAO/Q,QACpBH,EAAK0J,IAAI,SAAC9E,EAAOsH,GAAR,OACRzJ,EAAAC,EAAAC,cAACwO,GAAD,CACExM,IAAKC,EAAM6L,GACXvE,MAAOA,EACPN,KAAMhH,EAAMgH,KACZ9L,KAAM8E,EAAMoE,SACZ5B,SAAUxG,EAAK8P,sBAGF,IAAhB1Q,EAAKiF,QAAgBpE,KAAKoQ,cAC3BxO,EAAAC,EAAAC,cAACuM,GAAD,CAAK3F,QAAS1I,KAAKmQ,qBAjHRI,aAuHJ/B","file":"6.edc2b351.js","sourcesContent":["import {storage, generateUUID} from '@/utils';\n\nexport const queryListData = () => {\n  return storage('medo-list') || [];\n}\n\nexport const updateListData = ({list}) => {\n  return storage('medo-list', list);\n}\n\nexport const queryCaleData = () => {\n  return storage('medo-cale') || {};\n}\n\nexport const updateCaleDate = ({data}) => {\n  return storage('medo-cale', data);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"src-pages-Medo-index-module__layout--2PD-U\",\"empty\":\"src-pages-Medo-index-module__empty--2TRAC\",\"title\":\"src-pages-Medo-index-module__title--2iz80\",\"tips\":\"src-pages-Medo-index-module__tips--2a2CN\",\"tag\":\"src-pages-Medo-index-module__tag--iikec\"};","import React, { PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\nimport { LocaleProvider, Modal } from 'antd';\nimport _ from 'lodash';\nimport createBrowserHistory from 'history/createBrowserHistory';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport withRef from '../../decorators/withRef';\nimport withSetProps from '../../decorators/withSetProps';\n\nconst history = createBrowserHistory();\n\nexport default class Dialog extends PureComponent {\n  state = {};\n\n  componentDidMount() {\n    this.unsubscribe = history.listen(() => this.destory());\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  render() {\n    const { onOk, onCancel, transition, render, content, component: BodyComponent, title, titleRender, footerRender, props, ...restProps} = this.props;\n    let modalProps = {\n      // wrapClassName: styles.center,\n      visible: true,\n      onOk: onOk.bind(this),\n      onCancel: onCancel.bind(this),\n      title,\n      ...props,\n      ...restProps\n    };\n    if (_.isBoolean(transition) && !transition) {\n      modalProps = { ...modalProps, transitionName: '', maskTransitionName: '' };\n    }\n    if (_.isFunction(titleRender)) {\n      modalProps = { ...modalProps, title: titleRender.apply(this) || title };\n    }\n    if (_.isFunction(footerRender)) {\n      modalProps = { ...modalProps, footer: footerRender.apply(this) };\n    }\n    let body = content;\n    if (!body && BodyComponent) {\n      body = <BodyComponent {...restProps} />;\n    }\n    if (!body && render) {\n      body = render.bind(this)(this);\n    }\n    return <Modal {...modalProps}>{body}</Modal>;\n  }\n}\n\nDialog.open = (options) => {\n  const { ...restOptions } = options;\n  options = _.merge({\n    title: '弹窗',\n    delay: 0,\n    setPropsMerged: true,\n    autoClose: true,\n    maskClosable: false,\n    transition: false,\n    onOk() {\n      this.props.onSubmit.bind(this)();\n      this.destroy();\n    },\n    onCancel() {\n      this.destroy();\n    },\n    redner: _.noop\n  }, restOptions);\n  setTimeout(() => {\n    const container = document.createElement('div');\n    const { setPropsMerged } = options;\n    const { render, ...methods } = _.pickBy(options, _.isFunction);\n    const saveRef = instance => {\n      if (instance) {\n        _.merge(instance, {\n          destroy() {\n            const { onDestroy } = instance;\n            _.isFunction(onDestroy) && onDestroy();\n            ReactDOM.unmountComponentAtNode(container);\n            document.body.removeChild(container);\n          }\n        });\n        _.forEach(methods, (method, key) => {\n          instance[key] = method.bind(instance);\n        });\n        const { state } = options;\n        state && instance.setState(state);\n        instance.props.forceUpdateProps();\n      }\n    };\n\n    let WrappedComponent = Dialog;\n    WrappedComponent = withRef(WrappedComponent);\n    WrappedComponent = withSetProps(setPropsMerged)(WrappedComponent);\n\n    document.body.appendChild(container);\n    ReactDOM.render((\n      <LocaleProvider locale={zhCN}>\n        <WrappedComponent {...options} getInstance={saveRef} />\n      </LocaleProvider>\n    ), container);\n  }, options.delay);\n}\n","import React, { PureComponent } from 'react';\nimport _ from 'lodash';\n\nexport default WrappedComponent => class WithRef extends PureComponent {\n  render() {\n    const props = { ...this.props };\n    const { getInstance } = props;\n    if (_.isFunction(getInstance)) {\n      props.ref = getInstance;\n    }\n    return <WrappedComponent {...props} />;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport _ from 'lodash';\n\nexport default (merge = true) => WrappedComponent => class WithSetProps extends PureComponent {\n  state = {};\n\n  setProps = props => {\n    const { state } = this;\n    // merge 是在两个对象遇到相同属性时，如果属性值为纯对象或集合时，则把两个属性值和合并而并不覆盖。\n    this.setState(merge ? _.merge({}, state, props) : {...state, ...props});\n  };\n\n  forceUpdateProps = () => {\n    this.forceUpdate();\n  };\n\n  render() {\n    const { setProps, forceUpdateProps, props, state } = this;\n    const methods = { setProps, forceUpdateProps };\n    const mergeStateToProps = merge ? _.merge({}, props, state, methods) : { ...props, ...state, ...methods};\n    return <WrappedComponent {...mergeStateToProps} />\n  }\n}\n","import React, {\n  useState, useRef, useEffect, useCallback,\n} from 'react';\nimport {Input} from 'antd';\n\nconst { TextArea } = Input;\n\nconst Editor: React.FC = (props: object): React.ReactElement => {\n  const {prefixCls, type, value, onConfirm, onChange, ...restProps} = props;\n  const Wrapped = type === 'textarea' ? TextArea : Input;\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (inputRef && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, []);\n  const onInputBlur = useCallback(() => {\n    onConfirm && onConfirm();\n  }, [onConfirm]);\n  const onInputChange = useCallback(e => {\n    if (e && e.target && typeof e.target.value === 'string') onChange && onChange(e.target.value);\n  }, [onChange]);\n  return (\n    <div className={`${prefixCls}-textarea`} {...restProps}>\n      <Wrapped\n        ref={inputRef}\n        value={value}\n        onBlur={onInputBlur}\n        onChange={onInputChange}\n        onPressEnter={onInputBlur}\n      />\n    </div>\n  )\n}\n\nexport default Editor;\n\n// class Editor extends React.PureComponent {\n//\n//   componentDidMount() {\n//     if (this.inputRef) {\n//       this.inputRef.focus();\n//     }\n//   }\n//\n//   setInputRef = el => {\n//     this.inputRef = el;\n//   }\n//\n//   onInputBlur = () => {\n//     const {onConfirm} = this.props;\n//     onConfirm && onConfirm();\n//   }\n//\n//   onInputChange = e => {\n//     if (e && e.target && e.target.value) {\n//       const {onChange} = this.props;\n//       onChange && onChange(e.target.value);\n//     }\n//   }\n//\n//   render() {\n//     const {type, value} = this.props;\n//     const Wrapped = type === 'textarea' ? TextArea : Input;\n//\n//     return (\n//       <div className={styles['text-edit-textarea']}>\n//         <Wrapped\n//           ref={this.setInputRef}\n//           onBlur={this.onInputBlur}\n//           value={value}\n//           onChange={this.onInputChange}\n//         />\n//       </div>\n//     )\n//   }\n// }\n","import React, {Fragment} from 'react';\nimport {Icon} from 'antd';\nimport classnames from 'classnames';\nimport Editor from './Editor';\nimport './index.less';\n\nconst prefixCls = 'medo-text-edit';\n\nclass TextEdit extends React.PureComponent {\n  state = {\n    isEdit: false,\n    current: ''\n  }\n\n  static getDerivedStateFromProps (nextProps, prevState) {\n    const { prevValue } = prevState;\n    const { value } = nextProps;\n    const newState = {\n      prevValue: value,\n    };\n    if (prevValue !== value) {\n      newState.current = value;\n    }\n    return newState;\n  }\n\n  onEditChange = value => {\n    if (value && typeof value === 'string') {\n      this.setState({\n        isEdit: !this.state.isEdit,\n        current: value,\n      });\n    } else if (!!value) {\n      this.setState({ isEdit: !this.state.isEdit });\n      return;\n    } else {\n      this.setState({ isEdit: !this.state.isEdit });\n      value = this.state.current;\n    }\n    const {prevValue} = this.state;\n    if (value !== prevValue) {\n      const {onConfirm} = this.props;\n      onConfirm && onConfirm(value);\n    }\n  }\n\n  onValueChange = value => {\n    const {onChange} = this.props;\n    this.setState({current: value}, () => {\n      onChange && onChange(value);\n    });\n  }\n\n  setContentRef = el => {\n    this.contentRef = el;\n  }\n\n  contentRender = () => {\n    const {\n      props: {type, bold, children, placeholder},\n      state: {isEdit, current},\n      onEditChange, onValueChange, setContentRef\n    } = this;\n    if (isEdit) {\n      return (\n        <Editor\n          prefixCls={prefixCls}\n          type={type || 'input'}\n          value={current}\n          onChange={onValueChange}\n          onConfirm={onEditChange}\n        />\n      )\n    } else {\n      return (\n        <div ref={setContentRef} className={`${prefixCls}-content`}>\n          {\n            current ? (\n              <span className={classnames({[`${prefixCls}-bold`]: bold})}>{current}</span>\n            ) : (\n              <span className={classnames(`${prefixCls}-placeholder`)}>{placeholder || `请编辑文本内容`}</span>\n            )\n          }\n          <Icon onClick={onEditChange} className={`${prefixCls}-options`} type=\"edit\" />\n          {React.Children.map(children, (child, key) =>\n            !!child && React.cloneElement(child, {\n              className: `${prefixCls}-options`\n            })\n          )}\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className={`${prefixCls}-layout`}>\n        {this.contentRender()}\n      </div>\n    )\n  }\n}\n\nexport default TextEdit;\n","import React, {useCallback} from 'react';\nimport {Icon} from 'antd';\n\nconst Copycat: React.FC = (props: object): React.ReactElement => {\n  const {value, onClick, ...restProps} = props;\n  const handleClick = useCallback(() => {\n    let oInput = document.createElement('input');\n    oInput.value = value;\n    oInput.style.position = 'fixed';\n    oInput.style.left = '-1000px';\n    oInput.style.top = '-1000px';\n    document.body.appendChild(oInput);\n    oInput.select();\n    document.execCommand('Copy');\n    document.body.removeChild(oInput);\n    onClick && onClick();\n  }, [value, onClick]);\n  return (\n    <Icon type=\"copy\" onClick={handleClick} {...restProps} />\n  )\n}\n\nexport default Copycat;\n","import React from 'react';\nimport {Icon, Popconfirm} from 'antd';\n\nconst DelIcon: React.FC = (props: object): React.ReactElement => {\n  const {onDelete, ...restProps} = props;\n  return (\n    <Popconfirm\n      title=\"确认删除该任务项？\"\n      onConfirm={onDelete}\n      okText=\"确认\"\n      cancelText=\"取消\"\n    >\n      <Icon type=\"delete\" {...restProps} />\n    </Popconfirm>\n  )\n}\n\nexport default DelIcon;\n","import React, {useCallback} from 'react';\nimport {Icon, Popconfirm, message} from 'antd';\nimport TextEdit from '@/components/TextEdit';\nimport Copycat from '@/components/Copycat';\nimport DelIcon from './DelIcon';\n\nconst WrappedTextEdit: React.FC = (props: object): React.ReactElement => {\n  const {onDelete, prefixCls, value, ...restProps} = props;\n  const onCopyClick = useCallback(() => {\n    message.success('复制成功！');\n  }, [value]);\n  return (\n    <div className={`${prefixCls}-input`}>\n      <TextEdit value={value} {...restProps}>\n        {onDelete && (\n          <DelIcon onDelete={onDelete} />\n        )}\n        <Copycat value={value} onClick={onCopyClick} />\n      </TextEdit>\n    </div>\n  )\n}\n\nexport default WrappedTextEdit;\n","import React from 'react';\nimport {Icon} from 'antd';\n\nconst textStyle = {marginRight: 8};\n\nconst AddIcon: React.FC = (props: object): React.ReactElement => {\n  const {prefixCls, text, ...restProps} = props;\n  return (\n    <div className={`${prefixCls}-add`} {...restProps}>\n      {text && (<span style={textStyle}>{text}</span>)}\n      <Icon type=\"plus-circle\" />\n    </div>\n  )\n}\n\nexport default AddIcon;\n","import React, {useCallback} from 'react';\nimport {Row, Col, Popover, Icon} from 'antd';\nimport classnames from 'classnames';\nimport TextEdit from './WrappedTextEdit';\n\nconst Item: React.FC = (props: object): React.ReactElement => {\n  const {item: {name, remarks}, onTextChange, onItemDelete, onRemarksChange, prefixCls, ...restProps} = props;\n  let content = (<span>点击添加备注</span>),\n    hasRemarks = false;\n  if (remarks && remarks.length > 0) {\n    hasRemarks = true;\n    content = remarks.map((value, index) => (\n      <div key={index}>{value}</div>\n    ))\n  }\n  return (\n    <div className={`${prefixCls}-sub`}>\n      <div className={`${prefixCls}-prefix`}>\n        <Popover content={content} placement=\"left\">\n          <Icon\n            className={classnames({[`${prefixCls}-prefix-work`]: hasRemarks})}\n            type=\"appstore\"\n            theme=\"filled\"\n            onClick={onRemarksChange}\n          />\n        </Popover>\n      </div>\n      <TextEdit\n        prefixCls={prefixCls}\n        value={name}\n        onConfirm={onTextChange}\n        onDelete={onItemDelete}\n      />\n    </div>\n  )\n}\n\nexport default Item;\n","import React, {\n  useState, useRef, useCallback\n} from 'react';\nimport {Input, Icon, Divider} from 'antd';\n\nconst Remarks: React.FC = (props: object): React.ReactElement => {\n  const {onClick: propsOnClick, list: propsList} = props;\n  const [inputValue, setInputValue] = useState('');\n  const [list, setList] = useState(propsList || []);\n  const keyDownHandler = e => {\n    if (e.keyCode === 13) onClick();\n  }\n  const onClick = useCallback(() => {\n    let newList = list;\n    newList = [...list, inputValue];\n    setInputValue('');\n    setList(newList);\n    propsOnClick(newList);\n  }, [propsOnClick, list, inputValue]);\n  const onDelete = useCallback(index => {\n    let newList = list;\n    newList.splice(index, 1);\n    setList([...newList]);\n    propsOnClick(newList);\n  }, [propsOnClick, list]);\n  return (\n    <>\n      {list.length < 5 && (\n        <Input\n        size=\"small\"\n        value={inputValue}\n        onChange={e => setInputValue(e.target.value)}\n        onKeyDown={keyDownHandler}\n        placeholder='请输入任务备注，最多保存五项。'\n        addonAfter={\n          <Icon type=\"enter\" onClick={onClick} />\n        }\n        />\n      )}\n      {list.map((value, index) => (\n        <div key={index} style={{marginTop: 10}}>\n          {index + 1}\n          <Divider type=\"vertical\" />\n          {value}\n          <Icon type=\"delete\" onClick={() => onDelete(index)} style={{marginLeft: 10}} />\n        </div>\n      ))}\n    </>\n  )\n}\n\nexport default Remarks;\n","import React, {\n  useCallback, useState,\n} from 'react';\nimport {Card, Icon} from 'antd';\nimport classnames from 'classnames';\nimport Dialog from '@/components/Dialog';\nimport TextEdit from './WrappedTextEdit';\nimport AddIcon from './AddIcon';\nimport Item from './Item';\nimport Remarks from './Remarks';\nimport DelIcon from './DelIcon';\nimport './index.less';\n\nconst prefixCls = 'medo-item-box',\n  indexMap = ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十'],\n  cardBodyStyle = {padding: 15};\n\nconst Notepad: React.FC = (props: object): React.ReactElement => {\n  const {\n    index, name, list,\n    onChange,\n  } = props;\n  const [isFold, setIsFold] = useState(list.length >= 7);\n  const handleFold = useCallback(() => {\n    setIsFold(!isFold);\n  }, [isFold]);\n  const addItem = useCallback(() => {\n    setIsFold(false);\n    onChange && onChange(0, {index});\n  }, [onChange, index]);\n  const delItem = useCallback(() => {\n    onChange && onChange(2, {index});\n  }, [onChange, index]);\n  const onTextChange = useCallback(value => {\n    onChange && onChange(1, {index, target: value})\n  }, [onChange, index]);\n  const onItemTextChange = useCallback((value, childrenIndex) => {\n    onChange && onChange(1, {index, childrenIndex, target: value})\n  }, [onChange, index]);\n  const onItemDelete = useCallback((childrenIndex) => {\n    onChange && onChange(2, {index, childrenIndex});\n  }, [onChange, index]);\n  const onRemarksChange = useCallback((childrenIndex) => {\n    if (!onChange) return;\n    const remarksProps = {\n      list: list[childrenIndex].remarks,\n      onClick: newList => {\n        onChange(3, {index, childrenIndex, target: newList})\n      }\n    }\n    Dialog.open({\n      titleRender: () => (<div><Icon type=\"appstore\" /> 任务备注</div>),\n      transition: true,\n      content: (\n        <Remarks {...remarksProps} />\n      ),\n      maskClosable: true,\n      footerRender: () => null\n    })\n  }, [onChange, index]);\n  return (\n    <Card hoverable bodyStyle={cardBodyStyle}>\n      <div className={`${prefixCls}-layout`}>\n        <div className={`${prefixCls}-title-index ${prefixCls}-bold`}>\n          {indexMap[index]}、\n        </div>\n        <TextEdit\n          bold\n          prefixCls={prefixCls}\n          value={name}\n          onConfirm={onTextChange}\n        />\n      </div>\n      { !isFold && list.map((val, ind) => (\n          <Item\n            key={ind}\n            prefixCls={prefixCls}\n            item={val}\n            onTextChange={value => onItemTextChange(value, ind)}\n            onRemarksChange={() => onRemarksChange(ind)}\n            onItemDelete={() => onItemDelete(ind)}\n          />\n        ))\n      }\n      <div className={`${prefixCls}-options`}>\n        <Icon type=\"up-circle\" onClick={handleFold} className={`${prefixCls}-options-icon`} style={{transform: isFold && 'rotate(180deg)'}} />\n        <Icon type=\"plus-circle\" onClick={addItem} className={`${prefixCls}-options-icon`} />\n        <DelIcon onDelete={delItem} className={`${prefixCls}-options-icon`} />\n      </div>\n    </Card>\n  )\n}\n\nNotepad.Add = (props: object): React.ReactElement => (\n  <AddIcon prefixCls={prefixCls} {...props} />\n);\n\nexport default Notepad;\n","import React, {Fragment, Component} from 'react';\nimport {Card, Icon, Tag} from 'antd';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport Notepad from '@/components/Notepad';\nimport {generateUUID} from '@/utils/';\nimport {queryListData, updateListData} from '@/services';\nimport styles from './index.module.less';\n\nconst tags = ['分层级', '备忘录', '任务指标', '细化任务']\nconst {Add} = Notepad;\n\nclass Medo extends Component {\n  state = {\n    targetIndex: -1,\n    data: [],\n    set: [],\n    map: {},\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData = async () => {\n    let data = [];\n    try {\n      data = await queryListData();\n    } catch (e) {\n      console.log(e);\n    } finally {\n      this.setState({ data });\n    }\n  }\n\n  setData = async list => {\n    await updateListData({ list });\n  }\n\n  formatData = (data) => {\n    if (!data) data = this.state.data;\n    let set = [], map = {};\n    data.forEach(value => {\n      set.push(value.id);\n      map[value.id] = value;\n    });\n    this.setState({set, map});\n  }\n  /**\n   * flag: 0 - add; 1 - change; 2 - delete; 3 - change remarks;\n   * map: {'index': 'father-location', 'childrenIndex': 'children-location'}\n   */\n  handleNotepadItem = (flag, {index, childrenIndex, target}) => {\n    const {data} = this.state;\n    console.log(flag, index, childrenIndex, target);\n    switch (flag) {\n      case 0:\n        if (typeof index !== 'undefined') {\n          data[index].children.push({\n            name: '',\n            createTime: new Date(),\n            remarks: [],\n          })\n        } else {\n          data.push({\n            id: generateUUID(),\n            name: '',\n            createTime: new Date(),\n            children: [],\n          })\n        }\n        break;\n      case 1:\n        if (typeof childrenIndex !== 'undefined') {\n          data[index].children[childrenIndex].name = target;\n        } else {\n          data[index].name = target;\n        }\n        break;\n      case 2:\n        if (typeof childrenIndex !== 'undefined') {\n          data[index].children.splice(childrenIndex, 1);\n        } else {\n          data.splice(index, 1);\n        }\n        break;\n      case 3:\n        data[index].children[childrenIndex].remarks = target;\n        break;\n    }\n    this.setState({data}, () => {\n      this.setData(data);\n    })\n  }\n\n  addNewItem = () => {\n    this.handleNotepadItem(0, {});\n  }\n\n  emptyRender = () => {\n    return (\n      <Card className={styles.empty}>\n        <div className={styles.title}>思维导图式待办事项</div>\n        {tags.map((value, index) => (\n          <div key={index} className={styles.tag}>{value}</div>\n        ))}\n        <div className={styles.tips}>立刻开始记事之旅 <Icon type=\"caret-down\" /></div>\n      </Card>\n    )\n  }\n\n  render() {\n    const {data} = this.state;\n    return (\n      <div className={styles.layout}>\n        {data.map((value, index) => (\n          <Notepad\n            key={value.id}\n            index={index}\n            name={value.name}\n            list={value.children}\n            onChange={this.handleNotepadItem}\n          />\n        ))}\n        {data.length === 0 && this.emptyRender()}\n        <Add onClick={this.addNewItem} />\n      </div>\n    )\n  }\n}\n\nexport default Medo;\n"],"sourceRoot":""}